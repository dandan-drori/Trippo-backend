(function(t){function e(e){for(var n,a,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],n=!0,o=1;o<s.length;o++){var c=s[o];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=a(a.s=s[0]))}return t}var n={},r={app:0},i=[];function a(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=n,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(s,n,function(e){return t[e]}.bind(null,n));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0a5b":function(t,e,s){t.exports=s.p+"img/sms.154a7a6e.svg"},1:function(t,e){},"21ec":function(t,e,s){t.exports=s.p+"img/shield.ace320e7.svg"},2468:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAmCAQAAAAPKlFiAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfkDBwNGw7YaIPcAAACLUlEQVRIx52WTWgTQRSAvze2NLQpgiKhKASKPXhQKFopgmKhlSpJBBuC4kHFW9WbeBOKFPXgwZ9aqD9VUAQRhPwZBdGDPQkqiPG/h1YUekhLITRp0mQ8tNlu0kA280677/F9O/t2dmYEh/GiaSkkx+n0e8rzDc7wcF9hVLYCc5UVR4LIaRljHQDfDASxXn0HVRpKZVVq4W9d6V9sWbmZdbX3zZfXVS1B+qSFw2Al7kBA0Loa8j9dW67dgx0AZLjgH6lWri1QTBIv3jr8u3q5rInR/QywCw/zfJVoU6L0xkOqq6vYzwHacTNDUl7z2DdXIQh3qlG6y+SLJIhIikM6QFvFg7NyueVKz5IliJ3Qd2mkvnhHv39BAURCerxuHPbqR6Ag7pV7Dj7n2pjiKjRAYVhaDfCf+T1HUiBxb3Fy5UepJ9K6O5AEUMUBAxyuLeOgZJ8BrnlgzTO93UCQ8k+vTtRNBoI/9pnuMhDk7YJZA8Fmu2DGRBDtsARiIkAfswTFjyYCOf+yrTSCNyYCWvPhVy3LPZhg0UjRlUuEPSAQSUg/ZjGjLymQMUzDI0cVZKJMmRr0uIJQgZuG/HT2iQLIjPDDSDAcyimAUE7OGuDvP9y3LevRcU7VhS/o3YGkbW90D/KprvadWVnSSomerAT555i/EXhYZWuLbdMJvLbEdyb4i5sOemm25W/7zomuesB4vrHxIkE28EXH1DOfdaCJNuuDEmQn6/ks133xVeI/+YmbRd4Eu9wAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMTItMjhUMTM6Mjc6MTQrMDA6MDAY8F9AAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTEyLTI4VDEzOjI3OjE0KzAwOjAwaa3n/AAAAABJRU5ErkJggg=="},"2d87":function(t,e,s){t.exports=s.p+"img/social-color-1_logo-whatsapp.e8ef46d1.svg"},"322b":function(t,e,s){},"3c61":function(t,e,s){},"3cba":function(t,e,s){t.exports=s.p+"img/no_img.298576f1.jpeg"},4509:function(t,e,s){t.exports=s.p+"img/chalice.9ee78aa1.gif"},4678:function(t,e,s){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=i(t);return s(e)}function i(t){if(!s.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=i,t.exports=r,r.id="4678"},"4d7b":function(t,e,s){t.exports=s.p+"img/outdoors.a2cd2b4e.webp"},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app main-layout"},[s("app-header",{class:{scrolled:t.isScrolled,hide:t.isSearchShown},on:{toggleProfile:t.toggleProfile}}),s("router-view",{attrs:{isScreenOpen:t.isScreenOpen},on:{login:t.login,scrolled:t.scrolled,bottom:t.bottom,screen:t.toggleScreen,hideSearch:t.hideSearch,toggleShare:t.toggleShare,toggleLoading:t.toggleLoading}}),s("app-footer"),t.isLoginOpen||t.isSignupOpen||t.isScreenOpen||t.isShareShown||t.isLoading?s("div",{staticClass:"screen"}):t._e(),t.isLoading?s("vue-loaders-ball-pulse-sync",{staticClass:"main-loader",attrs:{color:"transparent"}}):t._e(),s("profile-menu",{attrs:{isProfileModalOpen:t.isProfileModalOpen},on:{login:t.login,toggleSignUp:t.toggleSignUp,logout:t.logout,closeModal:t.closeModal}}),t.isLoginOpen?s("login",{on:{login:t.login}}):t._e(),t.isSignupOpen?s("signup",{on:{toggleSignUp:t.toggleSignUp}}):t._e(),t.isShareShown?s("share-modal",{class:{share:t.isShareShown},on:{toggleShare:t.toggleShare}}):t._e(),s("user-msg")],1)},i=[],a=s("1da1"),o=(s("96cf"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"main-layout"},[s("div",{staticClass:"heder-container"},[s("div",{staticClass:"logo"},[s("router-link",{attrs:{to:"/"}},[s("font-awesome-icon",{staticClass:"icon",attrs:{icon:t.airbnb}}),s("h1",[t._v("trippo")])],1)],1),s("div",{staticClass:"header-search"},[s("form",{attrs:{action:""},on:{submit:function(t){t.preventDefault()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.city,expression:"filterBy.city"}],attrs:{type:"text",list:"city-options",placeholder:"Start your search"},domProps:{value:t.filterBy.city},on:{input:function(e){e.target.composing||t.$set(t.filterBy,"city",e.target.value)}}}),t.correctCitySearched?s("datalist",{attrs:{id:"city-options"}},[s("option",[t._v("Amsterdam")]),s("option",[t._v("London")]),s("option",[t._v("New York")]),s("option",[t._v("Paris")])]):s("div",{staticClass:"no-data"},[t._v("No Data")]),s("button",{staticClass:"search-btn",on:{click:t.setFilter}},[s("span",{staticClass:"material-icons-outlined"},[t._v(" search ")])])])]),s("stay-filter",{class:{scrolled:this.isScrolled}}),s("div",{staticClass:"header-controls"},[s("router-link",{staticClass:"host",attrs:{to:"/stay/profile"}},[t._v("Become a host")]),t._m(0),s("div",{staticClass:"profile-btn",on:{click:function(e){return e.stopPropagation(),t.toggleProfile.apply(null,arguments)}}},[t.notification?s("div",{staticClass:"user-notifications-count"},[s("small",[t._v("1")])]):t._e(),s("span",{staticClass:"material-icons"},[t._v(" menu ")]),s("img",{attrs:{src:t.imgUrl,alt:""}})])],1)],1)])}),c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"i18n"},[s("span",{staticClass:"material-icons"},[t._v(" language ")])])}],l=(s("4d63"),s("ac1f"),s("25f0"),s("ad3d")),u=s("f2d1"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"filter-container"},[n("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.search.apply(null,arguments)}}},[n("div",{staticClass:"loc-input"},[n("small",[t._v("Location")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.city,expression:"filterBy.city"}],attrs:{type:"text",list:"city-options",placeholder:"Where are you going"},domProps:{value:t.filterBy.city},on:{input:function(e){e.target.composing||t.$set(t.filterBy,"city",e.target.value)}}}),t.correctCitySearched?n("datalist",{attrs:{id:"city-options"}},[n("option",[t._v("Amsterdam")]),n("option",[t._v("London")]),n("option",[t._v("New York")]),n("option",[t._v("Paris")])]):n("div",{staticClass:"no-data"},[t._v("No Data")])]),n("span",{staticClass:"seperator"},[t._v("|")]),n("div",{staticClass:"checkin-input"},[n("small",[t._v("Check in")]),n("span",[t._v(t._s(t._f("moment")(t.dates[0],"MMM, D")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.dates[0],expression:"dates[0]"}],attrs:{type:"text"},domProps:{value:t.dates[0]},on:{input:function(e){e.target.composing||t.$set(t.dates,0,e.target.value)}}})]),n("date-picker",{attrs:{range:"","value-type":"timestamp"},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}}),n("span",{staticClass:"seperator"},[t._v("|")]),n("div",{staticClass:"checkout-input"},[n("small",[t._v("Check out")]),n("span",[t._v(t._s(t._f("moment")(t.dates[1],"MMM, D")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.dates[1],expression:"dates[1]"}],attrs:{type:"text"},domProps:{value:t.dates[1]},on:{input:function(e){e.target.composing||t.$set(t.dates,1,e.target.value)}}})]),n("span",{staticClass:"seperator"},[t._v("|")]),n("div",{staticClass:"guests-input",on:{click:t.toggleGuestsModal}},[t._m(0),n("div",[n("button",{staticClass:"search-btn",on:{click:function(t){t.stopPropagation()}}},[n("p",[t._v("Search")]),n("img",{attrs:{src:s("8291")}})])]),t.isGuestsModalOpen?n("div",{staticClass:"guests-modal",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"type"},[t._m(1),n("el-input-number",{attrs:{min:0,max:100},model:{value:t.adults,callback:function(e){t.adults=e},expression:"adults"}})],1),n("div",{staticClass:"type"},[t._m(2),n("el-input-number",{attrs:{min:0,max:100},model:{value:t.children,callback:function(e){t.children=e},expression:"children"}})],1),n("div",{staticClass:"type"},[t._m(3),n("el-input-number",{attrs:{min:0,max:100},model:{value:t.infants,callback:function(e){t.infants=e},expression:"infants"}})],1)]):t._e()])],1)])},p=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Guests-container"},[s("small",[t._v("Guests")]),s("input",{attrs:{type:"text",placeholder:"Add guests"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"details"},[s("p",[t._v("Adults")]),s("span",[t._v("Ages 13 or above")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"details"},[s("p",[t._v("Children")]),s("span",[t._v("Ages 2-12")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"details"},[s("p",[t._v("Infants")]),s("span",[t._v("under 2")])])}],f=s("ec45"),m=(s("411c"),{data:function(){return{dates:[Date.now(),Date.now()+1e3],adults:0,children:0,infants:0,isGuestsModalOpen:!1,filterBy:{price:[0,1500],types:[],amenities:[],city:""}}},computed:{correctCitySearched:function(){var t=new RegExp(this.filterBy.city,"i"),e=["Amsterdam","London","New York","Paris"];return e.some((function(e){return t.test(e)}))}},methods:{toggleGuestsModal:function(){this.isGuestsModalOpen=!this.isGuestsModalOpen},search:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.adults+t.children+t.infants,t.$store.commit({type:"setFilter",filterBy:t.filterBy}),t.$router.push("/stay"),t.adults=0,t.children=0,t.infants=0;case 6:case"end":return e.stop()}}),e)})))()}},components:{DatePicker:f["a"]}}),h=m,g=s("2877"),v=Object(g["a"])(h,d,p,!1,null,null,null),y=v.exports,b={data:function(){return{airbnb:u["a"],notification:0,isScrolled:!1,searching:!1,filterBy:{price:[0,1500],types:[],amenities:[],city:""}}},created:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll:function(t){var e=t.path[1].scrollY;e>0?(this.isScrolled=!0,this.$emit("scrolled",!0),this.$emit("hideSearch",!1)):e||(this.isScrolled=!1,this.$emit("scrolled",!1))},login:function(){this.$emit("login",!0)},toggleSignUp:function(){this.$emit("toggleSignUp",!0)},logout:function(){this.$emit("logout")},toggleScroll:function(t){this.isScrolled=t},toggleProfile:function(){this.$emit("toggleProfile")},setFilter:function(){this.$store.commit({type:"setFilter",filterBy:this.filterBy});var t=new RegExp("stay","i");t.test(this.$route.fullPath)||this.$router.push("/stay"),this.$store.dispatch({type:"loadStays"})}},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser},imgUrl:function(){var t=this.$store.getters.loggedinUser;return t&&null!==t&&void 0!==t&&t.imgUrl?t.imgUrl:"http://res.cloudinary.com/dandan-img-cloud/image/upload/v1626521972/johtdlkck2tptcawkglt.png"},correctCitySearched:function(){var t=new RegExp(this.filterBy.city,"i"),e=["Amsterdam","London","New York","Paris"];return e.some((function(e){return t.test(e)}))}},watch:{"$route.params.city":function(){var t=this.$route.params.city;this.filterBy.city=t||""}},components:{FontAwesomeIcon:l["a"],stayFilter:y}},_=b,w=Object(g["a"])(_,o,c,!1,null,null,null),k=w.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("ul",{staticClass:"left"},[s("li",[t._v(" © 2021 Trippo, Inc. ")]),s("li",[s("router-link",{attrs:{to:"/stay"}},[t._v(" Explore ")])],1),s("li",[s("router-link",{attrs:{to:"/about"}},[t._v(" About us ")])],1),s("li",[s("router-link",{attrs:{to:"/profile/"+t.userId}},[t._v(" Profile ")])],1)]),s("ul",{staticClass:"right"},[s("li",{staticClass:"lang",on:{click:function(e){return e.stopPropagation(),t.toggleI18NLangModal.apply(null,arguments)}}},[s("span",{staticClass:"material-icons"},[t._v(" language ")]),s("small",[t._v(" English (US) ")])]),s("li",{staticClass:"coin",on:{click:function(e){return e.stopPropagation(),t.toggleI18NCurrencyModal.apply(null,arguments)}}},[s("span",[t._v(" $ ")]),s("small",[t._v(" USD ")])]),s("li",[s("font-awesome-icon",{staticClass:"icon",attrs:{icon:t.facebook}})],1),s("li",[s("font-awesome-icon",{staticClass:"icon",attrs:{icon:t.twitter}})],1),s("li",[s("font-awesome-icon",{staticClass:"icon",attrs:{icon:t.instagram}})],1)])])},x=[],A={data:function(){return{facebook:u["b"],twitter:u["d"],instagram:u["c"]}},methods:{toggleI18NCurrencyModal:function(){console.log("i18n coin")},toggleI18NLangModal:function(){console.log("i18n lang")}},computed:{userId:function(){var t=this.$store.getters.loggedinUser;return t?t._id:""}},components:{FontAwesomeIcon:l["a"]}},S=A,j=Object(g["a"])(S,C,x,!1,null,null,null),O=j.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.alive?s("div",{staticClass:"user-msg",class:t.alertClass},[s("div",{staticClass:"msg-container"},[s("p",[t._v(t._s(t.msg.txt))])]),s("button",{on:{click:function(e){return e.stopPropagation(),t.killMsg.apply(null,arguments)}}},[s("span",{staticClass:"material-icons"},[t._v(" close ")])])]):t._e()},$=[],B="show-msg",P=new n["default"];function U(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";P.$emit(B,{txt:t,type:e})}var R={created:function(){var t=this;P.$on(B,(function(e){t.msg=e;var s=e.delay||2500;t.alive=!0,setTimeout((function(){t.alive=!1}),s)}))},data:function(){return{alive:!1,msg:null}},methods:{killMsg:function(){this.alive=!1}},computed:{alertClass:function(){if(this.msg)return"alert-".concat(this.msg.type)},alertIcon:function(){return"error"===this.msg.type?"cancel":"warning"===this.msg.type?"error":"check_circle_outline"}}},T=R,E=Object(g["a"])(T,L,$,!1,null,null,null),I=E.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"login-modal",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"login-header"},[n("button",{on:{click:t.close}},[n("span",{staticClass:"material-icons"},[t._v(" close ")])]),n("p",[t._v("Log in")])]),n("div",{staticClass:"login-input"},[t._m(0),n("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.userCred.username,expression:"userCred.username"}],ref:"usernameInputRef",attrs:{type:"text",placeholder:"Enter email or username"},domProps:{value:t.userCred.username},on:{input:function(e){e.target.composing||t.$set(t.userCred,"username",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userCred.password,expression:"userCred.password"}],attrs:{type:"password",placeholder:"Enter password"},domProps:{value:t.userCred.password},on:{input:function(e){e.target.composing||t.$set(t.userCred,"password",e.target.value)}}}),n("button",{ref:"myBtn",staticClass:"checkout-btn"},[t.isLoading?n("vue-loaders-ball-clip-rotate-multiple",{staticStyle:{height:"23px",top:"-7px"},attrs:{color:"white"}}):n("span",[t._v(t._s(t.loginBtnTxt))])],1)])]),t._m(1),n("div",{staticClass:"login-socials"},[n("button",{on:{click:function(e){return e.stopPropagation(),t.loginWithFacebook.apply(null,arguments)}}},[n("span",{staticClass:"material-icons",staticStyle:{color:"#4267B2"}},[t._v(" facebook ")]),t._v("Continue with Facebook ")]),n("button",{on:{click:function(e){return e.stopPropagation(),t.loginWithGoogle.apply(null,arguments)}}},[n("img",{attrs:{src:s("bbbe"),alt:""}}),t._v(" Continue with Google ")]),t._m(2),t._m(3)])])},F=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-txt"},[s("h2",[t._v("Welcome to Trippo")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-divider"},[s("div",{staticClass:"border"}),s("small",[t._v("or")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",[n("img",{attrs:{src:s("2468"),alt:""}}),t._v(" Continue with Apple ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",[s("span",{staticClass:"material-icons",staticStyle:{color:"#000"}},[t._v(" phone_iphone ")]),t._v("Continue with Phone ")])}],N=s("ade3"),D=(s("d3b7"),function(){return new Promise((function(t){window.fbAsyncInit=function(){FB.init({appId:"2507113472858546",cookie:!0,xfbml:!0,version:"v2.8"})}(function(t,e,s){var n,r=t.getElementsByTagName(e)[0];t.getElementById(s)||(n=t.createElement(e),n.id=s,n.src="//connect.facebook.net/en_US/all.js",r.parentNode.insertBefore(n,r))}(document,"script","facebook-jssdk"))}))}),G=Object(N["a"])({mounted:function(){D()},data:function(){return{userCred:{username:"",password:""},isLoading:!1}},methods:{login:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,t.$store.dispatch({type:"login",userCred:t.userCred});case 4:t.isLoading=!1,U("Logged in successfully"),t.close(),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),U("Logged in failed","error"),console.log("err",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()},loginWithGoogle:function(){this.$gAuth.signIn().then((function(t){t.getAuthResponse(),t.getBasicProfile().getName(),t.getBasicProfile().getEmail(),t.getBasicProfile().getImageUrl();U("Logged in successfully")})).catch((function(t){console.log("error",t)}))},loginWithFacebook:function(){var t=this;window.FB.login((function(e){if(e&&e.authResponse){console.log("response",e);var s={loginType:"fb",fb:{auth:e.authResponse}};t.$store.commit("setLoginUser",s),window.FB.api("/".concat(e.authResponse.userID),(function(s){if(s){console.log(s);var n={loginType:"fb",fb:{auth:e.authResponse,user:s}};t.$store.commit("setLoginUser",n)}}),t.params),router.push("/")}}),this.params)},close:function(){this.$emit("login",!1)}},computed:{loginBtnTxt:function(){return"Continue"}}},"mounted",(function(){this.$refs.usernameInputRef.focus(),this.$refs.myBtn.onmousemove=function(t){var e=t.offsetX,s=t.offsetY;t.target.style.setProperty("--x","".concat(e,"px")),t.target.style.setProperty("--y","".concat(s,"px"))}})),V=G,W=Object(g["a"])(V,M,F,!1,null,null,null),Y=W.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"signup-modal",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"signup-header"},[n("button",{on:{click:function(e){return e.stopPropagation(),t.toggleSignUp.apply(null,arguments)}}},[n("span",{staticClass:"material-icons"},[t._v(" close ")])]),n("p",[t._v("Sign up")])]),n("div",{staticClass:"signup-input"},[t._m(0),n("form",{on:{submit:function(e){return e.preventDefault(),t.signUp.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.userCred.username,expression:"userCred.username"}],attrs:{type:"text",placeholder:"Enter email or username"},domProps:{value:t.userCred.username},on:{input:function(e){e.target.composing||t.$set(t.userCred,"username",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userCred.fullname,expression:"userCred.fullname"}],attrs:{type:"text",placeholder:"enter full name"},domProps:{value:t.userCred.fullname},on:{input:function(e){e.target.composing||t.$set(t.userCred,"fullname",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userCred.password,expression:"userCred.password"}],attrs:{type:"password",placeholder:"Enter password"},domProps:{value:t.userCred.password},on:{input:function(e){e.target.composing||t.$set(t.userCred,"password",e.target.value)}}}),n("button",{ref:"myBtn",staticClass:"checkout-btn"},[t.isLoading?n("vue-loaders-ball-clip-rotate-multiple",{staticStyle:{height:"23px",top:"-7px"},attrs:{color:"white"}}):n("span",[t._v("Continue")])],1)])]),t._m(1),n("div",{staticClass:"login-socials"},[n("button",{on:{click:function(e){return e.stopPropagation(),t.loginWithFacebook.apply(null,arguments)}}},[n("span",{staticClass:"material-icons",staticStyle:{color:"#4267B2"}},[t._v(" facebook ")]),t._v("Continue with Facebook ")]),n("button",{on:{click:function(e){return e.stopPropagation(),t.loginWithGoogle.apply(null,arguments)}}},[n("img",{attrs:{src:s("bbbe"),alt:""}}),t._v(" Continue with Google ")]),t._m(2),t._m(3)])])},z=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-txt"},[s("h2",[t._v("Welcome to Trippo")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"signup-divider"},[s("div",{staticClass:"border"}),s("small",[t._v("or")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",[n("img",{attrs:{src:s("2468"),alt:""}}),t._v(" Continue with Apple ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",[s("span",{staticClass:"material-icons",staticStyle:{color:"#000"}},[t._v(" phone_iphone ")]),t._v("Continue with Phone ")])}],q={data:function(){return{userCred:{username:"",fullname:"",password:""},isLoading:!1}},methods:{toggleSignUp:function(){this.$emit("toggleSignUp",!1)},signUp:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,t.$store.dispatch({type:"signup",userCred:t.userCred});case 4:t.isLoading=!1,t.toggleSignUp(),U("Signed up successfully!"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),U("Sign up failed!","error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},loginWithGoogle:function(){this.$gAuth.signIn().then((function(t){t.getAuthResponse(),t.getBasicProfile().getName(),t.getBasicProfile().getEmail(),t.getBasicProfile().getImageUrl()})).catch((function(t){console.log("error",t)}))},loginWithFacebook:function(){var t=this;window.FB.login((function(e){if(e&&e.authResponse){console.log("response",e);var s={loginType:"fb",fb:{auth:e.authResponse}};t.$store.commit("setLoginUser",s),window.FB.api("/".concat(e.authResponse.userID),(function(s){if(s){console.log(s);var n={loginType:"fb",fb:{auth:e.authResponse,user:s}};t.$store.commit("setLoginUser",n)}}),t.params),router.push("/")}}),this.params)}},mounted:function(){this.$refs.myBtn.onmousemove=function(t){var e=t.offsetX,s=t.offsetY;t.target.style.setProperty("--x","".concat(e,"px")),t.target.style.setProperty("--y","".concat(s,"px"))}}},J=q,K=Object(g["a"])(J,H,z,!1,null,null,null),Q=K.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"share-modal",on:{click:function(t){t.stopPropagation()}}},[n("button",{staticClass:"close-btn",on:{click:function(e){return e.stopPropagation(),t.close.apply(null,arguments)}}},[n("span",{staticClass:"material-icons"},[t._v(" close ")])]),n("h2",[t._v("Share this place with friends and family")]),n("div",{staticClass:"stay-info"},[t.currStay?n("div",{staticClass:"img"},[n("img",{attrs:{src:t.currStay.imgUrls[0],alt:""}})]):t._e(),n("p",[t._v(t._s(t.currStay.name)+"-"+t._s(t.currStay.summary))])]),n("div",{staticClass:"share-container"},[n("div",{staticClass:"social-media"},[n("h4",[t._v("Social Media")]),n("div",{staticClass:"buttons-container"},[n("ShareNetwork",{attrs:{network:"facebook",url:"http://127.0.0.1:8080/#/stay/ + stay._id",title:"Say hi to Trippo! A brand new, easy to use booking website.",description:"Check out this awesome i found on Trippo!",quote:"This site is amazing for booking trips",hashtags:"Trippo"}},[n("img",{attrs:{src:s("9288"),alt:""}}),t._v(" Facebook ")]),n("ShareNetwork",{attrs:{network:"twitter",url:"'http://127.0.0.1:8080/#/stay/ + stay._id'",title:"Say hi to Vite! A brand new, extremely fast development setup for Vue.",description:"This week, I’d like to introduce you to 'Vite', which means 'Fast'. It’s a brand new development setup created by Evan You.",quote:"The hot reload is so fast it\\'s near instant. - Evan You",hashtags:"vuejs,vite"}},[n("img",{attrs:{src:s("9a12"),alt:""}}),t._v(" Twitter ")]),n("ShareNetwork",{attrs:{network:"linkedin",url:"'http://127.0.0.1:8080/#/stay/ + stay._id'",title:"Say hi to Vite! A brand new, extremely fast development setup for Vue.",description:"This week, I’d like to introduce you to 'Vite', which means 'Fast'. It’s a brand new development setup created by Evan You.",quote:"The hot reload is so fast it\\'s near instant. - Evan You",hashtags:"vuejs,vite"}},[n("img",{attrs:{src:s("c940"),alt:""}}),t._v(" LinkedIn ")])],1)]),n("div",{staticClass:"messaging-email"},[n("h4",[t._v("Messaging & Email")]),n("div",{staticClass:"buttons-container"},[n("ShareNetwork",{attrs:{network:"whatsapp",url:"'http://127.0.0.1:8080/#/stay/ + stay._id'",title:"Say hi to Trippo! A brand new, easy to use booking website.",description:"Check out this awesome i found on Trippo!",hashtags:"Trippo"}},[n("img",{attrs:{src:s("2d87"),alt:""}}),t._v(" Whatsapp ")]),n("ShareNetwork",{attrs:{network:"email",url:"http://127.0.0.1:8080/#/stay/ + stay._id",title:"Say hi to Trippo! A brand new, easy to use booking website.",description:"Check out this awesome i found on Trippo!",quote:"This site is amazing for booking trips",hashtags:"Trippo"}},[n("img",{attrs:{src:s("9d8c"),alt:""}}),t._v("Email ")]),n("ShareNetwork",{attrs:{network:"sms",url:"http://127.0.0.1:8080/#/stay/ + stay._id",title:"Say hi to Trippo! A brand new, easy to use booking website.",description:"Check out this awesome i found on Trippo!",quote:"This site is amazing for booking trips",hashtags:"Trippo"}},[n("img",{attrs:{src:s("0a5b"),alt:""}}),t._v(" SMS ")])],1)]),n("div",{staticClass:"copy"},[n("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.currPageUrl,expression:"currPageUrl",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],attrs:{type:"button"},on:{click:function(t){t.stopPropagation()}}},[n("span",{staticClass:"material-icons-outlined",on:{click:function(e){return e.stopPropagation(),t.onCopy.apply(null,arguments)}}},[t._v(" content_copy ")]),t._v(" Copy link ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.currPageUrl,expression:"currPageUrl"}],attrs:{type:"text"},domProps:{value:t.currPageUrl},on:{input:function(e){e.target.composing||(t.currPageUrl=e.target.value)}}})])])])},X=[],tt={components:{},props:{},data:function(){return{currPageUrl:null,currStay:null}},computed:{},methods:{onCopy:function(t){U("Coppied to clipboard")},onError:function(t){console.log("Failed to copy the text to the clipboard",t)},close:function(){this.$emit("toggleShare",!1)}},created:function(){this.currPageUrl=this.$route.fullPath,this.currStay=this.$store.getters.watchedStay}},et=tt,st=Object(g["a"])(et,Z,X,!1,null,null,null),nt=st.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isProfileModalOpen?s("div",{staticClass:"profile-menu",on:{click:function(e){return e.stopPropagation(),t.closeModal.apply(null,arguments)}}},[t.isLoggedinUser?s("router-link",{attrs:{to:"/profile/"+t.userId}},[s("span",[t._v("Profile")])]):t._e(),t.isLoggedinUser?t._e():s("button",{on:{click:function(e){return e.stopPropagation(),t.login.apply(null,arguments)}}},[t._v("Login")]),t.isLoggedinUser?t._e():s("button",{on:{click:function(e){return e.stopPropagation(),t.toggleSignUp.apply(null,arguments)}}},[t._v("Signup")]),t.isLoggedinUser?s("router-link",{attrs:{to:"/wishlist/"+t.userId}},[s("span",[t._v("Wishlist")])]):t._e(),s("button",{on:{click:function(e){return e.stopPropagation(),t.addStay.apply(null,arguments)}}},[t._v("Host your home")]),t.isLoggedinUser?s("button",{on:{click:function(e){return e.stopPropagation(),t.logout.apply(null,arguments)}}},[t._v("Logout")]):t._e()],1):t._e()},it=[],at={props:{isProfileModalOpen:Boolean},methods:{closeModal:function(){this.$emit("closeModal",!1)},login:function(){this.$emit("login",!0),this.$emit("closeModal",!1)},toggleSignUp:function(){this.$emit("toggleSignUp",!0),this.$emit("closeModal",!1)},addStay:function(){this.$emit("addStay"),this.$emit("closeModal",!1)},logout:function(){this.$emit("logout"),this.$emit("closeModal",!1)}},computed:{userId:function(){var t=this.$store.getters.loggedinUser;return t&&null!==t&&void 0!==t&&t._id?t._id:""},isLoggedinUser:function(){return this.$store.getters.loggedinUser}}},ot=at,ct=Object(g["a"])(ot,rt,it,!1,null,null,null),lt=ct.exports,ut=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},dt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"mobile-nav"},[s("ul",[s("li",[s("span",{staticClass:"material-icons-outlined"},[t._v(" search ")]),t._v("Explore")]),s("li",[s("span",{staticClass:"material-icons-outlined"},[t._v(" favorite_border ")]),t._v("Wishlist ")]),s("li",[s("span",{staticClass:"material-icons-outlined"},[t._v(" chat_bubble_outline ")]),t._v("Inbox ")]),s("li",[s("span",{staticClass:"material-icons-outlined"},[t._v(" account_circle ")]),t._v("Profile ")])])])}],pt={components:{},props:{},data:function(){return{}},computed:{},methods:{},created:function(){}},ft=pt,mt=Object(g["a"])(ft,ut,dt,!1,null,null,null),ht=mt.exports,gt={data:function(){return{isScrolled:!1,isProfileModalOpen:!1,isSearchShown:!1,isScreenOpen:!1,isLoginOpen:!1,isSignupOpen:!1,headerClicked:!0,isShareShown:!1,isLoading:!1,isOnBottom:!1}},created:function(){window.addEventListener("click",this.bodyClick)},methods:{scrolled:function(t){this.isScrolled=t},bottom:function(t){this.isOnbottom=t},login:function(t){this.isLoginOpen=t},toggleSignUp:function(t){this.isSignupOpen=t},toggleProfile:function(){this.isProfileModalOpen=!this.isProfileModalOpen},logout:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch({type:"logout"});case 3:U("Logged out!"),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),U("Logout failed!","error");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},closeModal:function(t){this.isProfileModalOpen=t},hideSearch:function(t){this.isSearchShown=t},bodyClick:function(){this.isLoginOpen=!1,this.isSignupOpen=!1,this.isProfileModalOpen=!1,this.isScreenOpen=!1},toggleScreen:function(t){this.isScreenOpen=t},toggleShare:function(t){this.isShareShown=t},toggleLoading:function(t){this.isLoading=t}},components:{appHeader:k,appFooter:O,userMsg:I,login:Y,signup:Q,profileMenu:lt,shareModal:nt,mobileNav:ht}},vt=gt,yt=Object(g["a"])(vt,r,i,!1,null,null,null),bt=yt.exports,_t=s("9483");Object(_t["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var wt=s("8c4f"),kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"homepage"},[n("div",{staticClass:"shadow"}),n("div",{staticClass:"hero-container"}),n("img",{staticClass:"hero",attrs:{src:s("ce3b")}}),n("div",{staticClass:"flexible"},[n("p",[t._v("Not sure where to go? Perfect.")]),n("button",{on:{click:t.goToList}},[n("span",[t._v("I’m flexible")])])]),n("h2",[t._v("Live anywhere")]),n("div",{staticClass:"categories"},[n("div",{staticClass:"card"},[n("router-link",{attrs:{to:"/stay/q/Paris"}},[n("div",{staticClass:"img"},[n("img",{attrs:{src:"https://images.unsplash.com/photo-1431274172761-fca41d930114?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",alt:""}})]),n("h3",[t._v("Paris")])])],1),n("div",{staticClass:"card"},[n("router-link",{attrs:{to:"/stay/q/New York"}},[n("div",{staticClass:"img"},[n("img",{attrs:{src:"https://images.unsplash.com/photo-1605617697069-959ec9dfc9de?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1119&q=80",alt:""}})]),n("h3",[t._v("New York")])])],1),n("div",{staticClass:"card"},[n("router-link",{attrs:{to:"/stay/q/Amsterdam"}},[n("div",{staticClass:"img"},[n("img",{attrs:{src:"https://images.unsplash.com/photo-1534351590666-13e3e96b5017?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80",alt:""}})]),n("h3",[t._v("Amsterdam")])])],1),n("div",{staticClass:"card"},[n("router-link",{attrs:{to:"/stay/q/London"}},[n("div",{staticClass:"img"},[n("img",{attrs:{src:"https://images.unsplash.com/photo-1587726480710-003743795e40?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=851&q=80",alt:""}})]),n("h3",[t._v("London")])])],1)]),t._m(0)])},Ct=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wide-card"},[n("div",{staticClass:"desc"},[n("h3",[t._v("The Greatest "),n("span",[t._v("Outdoors")])]),n("p",[t._v("Wishlists curated by Airbnb.")]),n("button",[t._v("Get inspired")])]),n("img",{attrs:{src:s("4d7b"),alt:""}})])}],xt={data:function(){return{isScrolled:!1,searching:!1}},name:"Home",created:function(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("click",this.bodyClick)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll),window.addEventListener("click",this.bodyClick)},methods:{handleScroll:function(t){var e=t.path[1].scrollY;e>=1?(this.isScrolled=!0,this.$emit("scrolled",!0),this.$emit("hideSearch",!1)):e<1&&(this.isScrolled=!1,this.$emit("scrolled",!1))},goToList:function(){this.$router.push("/stay")},search:function(){this.searching=!0},bodyClick:function(){this.searching=!1}},computed:{filterBy:function(){return this.$store.getters.filterBy}}},At=xt,St=Object(g["a"])(At,kt,Ct,!1,null,null,null),jt=St.exports,Ot=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Lt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("h2",[t._v("Placeholder")])])}],$t={components:{},props:{},data:function(){return{}},computed:{},methods:{},created:function(){this.$emit("scrolled",!0)}},Bt=$t,Pt=Object(g["a"])(Bt,Ot,Lt,!1,null,null,null),Ut=Pt.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.stays?n("section",[n("section",{staticClass:"explore"},[n("div",{staticClass:"head-title"},[n("p",{staticClass:"head-title-visits"},[t._v(t._s(t.stays.length)+"+ stays")]),n("h1",[t._v(t._s(t.place))])]),t.stays&&t.unfilteredStays?n("stay-list-filter",{attrs:{filterBy:t.filterBy,stays:t.stays,unfilteredStays:t.unfilteredStays},on:{filter:t.setFilter}}):t._e(),t.city?n("div",{staticClass:"head-banner"},[n("p",[t._v(" More than "+t._s(t.visitors)+" guests have stayed in "+t._s(t.currCity)+". "),n("span",[t._v("On average they rated their stays 4.8 out of 5 stars.")])]),n("img",{attrs:{src:s("4509")}})]):t._e(),t.stays?n("stay-list",{attrs:{stays:t.stays}}):t._e()],1)]):t._e()},Tt=[],Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[t.stays.length?s("section",{staticClass:"stay-list"},t._l(t.stays,(function(t){return s("section",{key:t._id,staticClass:"stay-preveiw-container"},[s("stay-preview",{attrs:{stay:t},on:{click:function(t){t.stopPropagation()}}})],1)})),0):s("section",[t._v("No Available places")])])},It=[],Mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"stay-card-container",on:{click:function(e){return e.stopPropagation(),t.sendToDetails(t.stay._id)}}},[n("button",{staticClass:"wishlist-btn"},[t.onWishlist?n("span",{staticClass:"in-list material-icons-outlined"},[t._v(" favorite ")]):n("span",{staticClass:"material-icons-two-tone"},[t._v(" favorite ")])]),t.stay.imgUrls.length?n("el-carousel",{staticClass:"img-carousell",attrs:{trigger:"click",arrow:"always",height:"170px",autoplay:!1,loop:!0}},t._l(t.stay.imgUrls,(function(t,e){return n("el-carousel-item",{key:e},[n("img",{attrs:{src:t}})])})),1):n("img",{attrs:{src:s("3cba")}}),n("div",{staticClass:"card-rating"},[n("p",[n("span",{staticClass:"material-icons star-icon"},[t._v(" star ")]),t._v(t._s(t.avgRate)+" ("),n("small",[t._v(" "+t._s(t.stay.reviews.length))]),t._v(") ")])]),n("div",{staticClass:"card-location"},[t._v(t._s(t.stay.propertyType)+" · "+t._s(t.city))]),n("div",{staticClass:"card-name"},[t._v(t._s(t.stay.name))]),n("div",{staticClass:"card-price"},[n("p",[n("span",[t._v("$"+t._s(t.stay.price))]),t._v("/night ")])])],1)},Ft=[],Nt=(s("1276"),s("b680"),{props:{stay:Object},data:function(){return{onWishlist:!1}},methods:{sendToDetails:function(t){this.$router.push("/stay/".concat(t))},toggleWishlist:function(t){this.onWishlist=!this.onWishlist,!0===this.onWishlist&&console.log("added to wish list",t)}},computed:{city:function(){return this.stay.loc.address.split(",")[0]},avgRate:function(){if(!this.stay.reviews.length)return 0;var t=this.stay.reviews.reduce((function(t,e){return t+e.rate}),0);return(t/this.stay.reviews.length).toFixed(1)}},created:function(){}}),Dt=Nt,Gt=Object(g["a"])(Dt,Mt,Ft,!1,null,null,null),Vt=Gt.exports,Wt={props:{stays:Array},data:function(){return{currCity:""}},computed:{place:function(){return this.currCity?"Places in ".concat(this.currCity):"Entire places"}},created:function(){this.currCity=this.$route.params.city},components:{stayPreview:Vt}},Yt=Wt,Ht=Object(g["a"])(Yt,Et,It,!1,null,null,null),zt=Ht.exports,qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"filters"},[s("button",{ref:"priceBtn",on:{click:function(e){return e.stopPropagation(),t.togglePrice.apply(null,arguments)}}},[t._v(" "+t._s(t.pricePreview)+" "),s("span",{staticClass:"material-icons"},[t._v("expand_more")])]),t.isPriceModalOpen?s("div",{staticClass:"price-modal",on:{click:function(t){t.stopPropagation()}}},[s("el-slider",{staticStyle:{color:"black"},attrs:{range:"",max:1500},model:{value:t.filterBy.price,callback:function(e){t.$set(t.filterBy,"price",e)},expression:"filterBy.price"}}),s("div",{staticClass:"price-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterByLocal.price[0],expression:"filterByLocal.price[0]"}],staticClass:"from-price",attrs:{placeholder:"From"},domProps:{value:t.filterByLocal.price[0]},on:{input:function(e){e.target.composing||t.$set(t.filterByLocal.price,0,e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterByLocal.price[1],expression:"filterByLocal.price[1]"}],staticClass:"to-price",attrs:{placeholder:"To"},domProps:{value:t.filterByLocal.price[1]},on:{input:function(e){e.target.composing||t.$set(t.filterByLocal.price,1,e.target.value)}}})]),s("div",{staticClass:"button-container"},[s("button",{on:{click:function(e){return e.stopPropagation(),t.clearFilter.apply(null,arguments)}}},[t._v("Clear")]),s("button",{on:{click:function(e){return e.stopPropagation(),t.setFilter.apply(null,arguments)}}},[t._v("Update")])])],1):t._e(),s("button",{on:{click:function(e){return e.stopPropagation(),t.toggleTypes.apply(null,arguments)}}},[t._v(" "+t._s(t.stayTypePreview)),s("span",{staticClass:"material-icons"},[t._v("expand_more")])]),t.isTypesModalOpen?s("div",{staticClass:"types-modal",style:{left:t.typesPos},on:{click:function(t){t.stopPropagation()}}},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterByLocal.types,expression:"filterByLocal.types"}],attrs:{type:"checkbox",value:"Apartment",id:"Apartment"},domProps:{checked:Array.isArray(t.filterByLocal.types)?t._i(t.filterByLocal.types,"Apartment")>-1:t.filterByLocal.types},on:{change:function(e){var s=t.filterByLocal.types,n=e.target,r=!!n.checked;if(Array.isArray(s)){var i="Apartment",a=t._i(s,i);n.checked?a<0&&t.$set(t.filterByLocal,"types",s.concat([i])):a>-1&&t.$set(t.filterByLocal,"types",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.filterByLocal,"types",r)}}}),t._m(0)]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterByLocal.types,expression:"filterByLocal.types"}],attrs:{type:"checkbox",value:"Vila",id:"Vila"},domProps:{checked:Array.isArray(t.filterByLocal.types)?t._i(t.filterByLocal.types,"Vila")>-1:t.filterByLocal.types},on:{change:function(e){var s=t.filterByLocal.types,n=e.target,r=!!n.checked;if(Array.isArray(s)){var i="Vila",a=t._i(s,i);n.checked?a<0&&t.$set(t.filterByLocal,"types",s.concat([i])):a>-1&&t.$set(t.filterByLocal,"types",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.filterByLocal,"types",r)}}}),s("span",{staticClass:"material-icons"},[t._v(" check_box_outline_blank ")]),s("label",{attrs:{for:"Vila"}},[t._v("Vila")])]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterByLocal.types,expression:"filterByLocal.types"}],attrs:{type:"checkbox",value:"Hotel",id:"Hotel"},domProps:{checked:Array.isArray(t.filterByLocal.types)?t._i(t.filterByLocal.types,"Hotel")>-1:t.filterByLocal.types},on:{change:function(e){var s=t.filterByLocal.types,n=e.target,r=!!n.checked;if(Array.isArray(s)){var i="Hotel",a=t._i(s,i);n.checked?a<0&&t.$set(t.filterByLocal,"types",s.concat([i])):a>-1&&t.$set(t.filterByLocal,"types",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.filterByLocal,"types",r)}}}),s("span",{staticClass:"material-icons"},[t._v(" check_box_outline_blank ")]),s("label",{attrs:{for:"Hotel"}},[t._v("Hotel")])]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterByLocal.types,expression:"filterByLocal.types"}],attrs:{type:"checkbox",value:"House",id:"House"},domProps:{checked:Array.isArray(t.filterByLocal.types)?t._i(t.filterByLocal.types,"House")>-1:t.filterByLocal.types},on:{change:function(e){var s=t.filterByLocal.types,n=e.target,r=!!n.checked;if(Array.isArray(s)){var i="House",a=t._i(s,i);n.checked?a<0&&t.$set(t.filterByLocal,"types",s.concat([i])):a>-1&&t.$set(t.filterByLocal,"types",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.filterByLocal,"types",r)}}}),s("span",{staticClass:"material-icons"},[t._v(" check_box_outline_blank ")]),s("label",{attrs:{for:"House"}},[t._v("House")])]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterByLocal.types,expression:"filterByLocal.types"}],attrs:{type:"checkbox",value:"Loft",id:"Loft"},domProps:{checked:Array.isArray(t.filterByLocal.types)?t._i(t.filterByLocal.types,"Loft")>-1:t.filterByLocal.types},on:{change:function(e){var s=t.filterByLocal.types,n=e.target,r=!!n.checked;if(Array.isArray(s)){var i="Loft",a=t._i(s,i);n.checked?a<0&&t.$set(t.filterByLocal,"types",s.concat([i])):a>-1&&t.$set(t.filterByLocal,"types",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.filterByLocal,"types",r)}}}),s("span",{staticClass:"material-icons"},[t._v(" check_box_outline_blank ")]),s("label",{attrs:{for:"Loft"}},[t._v("Loft")])]),s("div",{staticClass:"button-container"},[s("button",{on:{click:function(e){return e.stopPropagation(),t.clearFilter.apply(null,arguments)}}},[t._v("Clear")]),s("button",{on:{click:function(e){return e.stopPropagation(),t.setFilter.apply(null,arguments)}}},[t._v("Update")])])]):t._e(),s("button",{on:{click:function(e){return e.stopPropagation(),t.toggleAmenities.apply(null,arguments)}}},[t._v(" "+t._s(t.amenitiesPreview)),s("span",{staticClass:"material-icons"},[t._v("expand_more")])]),t.isAmenitiesModalOpen?s("div",{staticClass:"amenities-modal",on:{click:function(t){t.stopPropagation()}}},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterByLocal.amenities,expression:"filterByLocal.amenities"}],attrs:{type:"checkbox",value:"TV",id:"TV"},domProps:{checked:Array.isArray(t.filterByLocal.amenities)?t._i(t.filterByLocal.amenities,"TV")>-1:t.filterByLocal.amenities},on:{change:function(e){var s=t.filterByLocal.amenities,n=e.target,r=!!n.checked;if(Array.isArray(s)){var i="TV",a=t._i(s,i);n.checked?a<0&&t.$set(t.filterByLocal,"amenities",s.concat([i])):a>-1&&t.$set(t.filterByLocal,"amenities",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.filterByLocal,"amenities",r)}}}),s("span",{staticClass:"material-icons"},[t._v(" check_box_outline_blank ")]),s("label",{attrs:{for:"TV"}},[t._v("TV")])]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterByLocal.amenities,expression:"filterByLocal.amenities"}],attrs:{type:"checkbox",value:"Wifi",id:"Wifi"},domProps:{checked:Array.isArray(t.filterByLocal.amenities)?t._i(t.filterByLocal.amenities,"Wifi")>-1:t.filterByLocal.amenities},on:{change:function(e){var s=t.filterByLocal.amenities,n=e.target,r=!!n.checked;if(Array.isArray(s)){var i="Wifi",a=t._i(s,i);n.checked?a<0&&t.$set(t.filterByLocal,"amenities",s.concat([i])):a>-1&&t.$set(t.filterByLocal,"amenities",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.filterByLocal,"amenities",r)}}}),s("span",{staticClass:"material-icons"},[t._v(" check_box_outline_blank ")]),s("label",{attrs:{for:"Wifi"}},[t._v("Wifi")])]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterByLocal.amenities,expression:"filterByLocal.amenities"}],attrs:{type:"checkbox",value:"Kitchen",id:"Kitchen"},domProps:{checked:Array.isArray(t.filterByLocal.amenities)?t._i(t.filterByLocal.amenities,"Kitchen")>-1:t.filterByLocal.amenities},on:{change:function(e){var s=t.filterByLocal.amenities,n=e.target,r=!!n.checked;if(Array.isArray(s)){var i="Kitchen",a=t._i(s,i);n.checked?a<0&&t.$set(t.filterByLocal,"amenities",s.concat([i])):a>-1&&t.$set(t.filterByLocal,"amenities",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.filterByLocal,"amenities",r)}}}),s("span",{staticClass:"material-icons"},[t._v(" check_box_outline_blank ")]),s("label",{attrs:{for:"Kitchen"}},[t._v("Kitchen")])]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterByLocal.amenities,expression:"filterByLocal.amenities"}],attrs:{type:"checkbox",value:"Pets allowed",id:"Pets"},domProps:{checked:Array.isArray(t.filterByLocal.amenities)?t._i(t.filterByLocal.amenities,"Pets allowed")>-1:t.filterByLocal.amenities},on:{change:function(e){var s=t.filterByLocal.amenities,n=e.target,r=!!n.checked;if(Array.isArray(s)){var i="Pets allowed",a=t._i(s,i);n.checked?a<0&&t.$set(t.filterByLocal,"amenities",s.concat([i])):a>-1&&t.$set(t.filterByLocal,"amenities",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.filterByLocal,"amenities",r)}}}),s("span",{staticClass:"material-icons"},[t._v(" check_box_outline_blank ")]),s("label",{attrs:{for:"Pets"}},[t._v("Pets allowed")])]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterByLocal.amenities,expression:"filterByLocal.amenities"}],attrs:{type:"checkbox",value:"Air conditioning",id:"Air"},domProps:{checked:Array.isArray(t.filterByLocal.amenities)?t._i(t.filterByLocal.amenities,"Air conditioning")>-1:t.filterByLocal.amenities},on:{change:function(e){var s=t.filterByLocal.amenities,n=e.target,r=!!n.checked;if(Array.isArray(s)){var i="Air conditioning",a=t._i(s,i);n.checked?a<0&&t.$set(t.filterByLocal,"amenities",s.concat([i])):a>-1&&t.$set(t.filterByLocal,"amenities",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.filterByLocal,"amenities",r)}}}),s("span",{staticClass:"material-icons"},[t._v(" check_box_outline_blank ")]),s("label",{attrs:{for:"Air"}},[t._v("Air conditioning")])]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterByLocal.amenities,expression:"filterByLocal.amenities"}],attrs:{type:"checkbox",value:"Smoking allowed",id:"Smoking"},domProps:{checked:Array.isArray(t.filterByLocal.amenities)?t._i(t.filterByLocal.amenities,"Smoking allowed")>-1:t.filterByLocal.amenities},on:{change:function(e){var s=t.filterByLocal.amenities,n=e.target,r=!!n.checked;if(Array.isArray(s)){var i="Smoking allowed",a=t._i(s,i);n.checked?a<0&&t.$set(t.filterByLocal,"amenities",s.concat([i])):a>-1&&t.$set(t.filterByLocal,"amenities",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.filterByLocal,"amenities",r)}}}),s("span",{staticClass:"material-icons"},[t._v(" check_box_outline_blank ")]),s("label",{attrs:{for:"Smoking"}},[t._v("Smoking allowed")])]),s("div",{staticClass:"button-container"},[s("button",{on:{click:function(e){return e.stopPropagation(),t.clearFilter.apply(null,arguments)}}},[t._v("Clear")]),s("button",{on:{click:function(e){return e.stopPropagation(),t.setFilter.apply(null,arguments)}}},[t._v("Update")])])]):t._e(),s("button",{on:{click:function(e){return e.stopPropagation(),t.clearFilter.apply(null,arguments)}}},[t._v("Clear Filter")])])},Jt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{attrs:{for:"Apartment"}},[s("span",{staticClass:"material-icons"},[t._v(" check_box_outline_blank ")]),t._v("Apartment")])}],Kt=s("2909"),Qt=(s("d81d"),s("6062"),s("3ca3"),s("ddb0"),s("159b"),s("a15b"),s("99af"),{props:{filterBy:Object,stays:Array,unfilteredStays:Array},created:function(){window.addEventListener("click",this.closeModals)},destroyed:function(){window.addEventListener("click",this.closeModals)},data:function(){return{isPriceModalOpen:!1,isTypesModalOpen:!1,isAmenitiesModalOpen:!1,filterByLocal:this.filterBy||{}}},methods:{togglePrice:function(){this.isPriceModalOpen=!this.isPriceModalOpen,this.isTypesModalOpen=!1,this.isAmenitiesModalOpen=!1},toggleTypes:function(){this.isTypesModalOpen=!this.isTypesModalOpen,this.isPriceModalOpen=!1,this.isAmenitiesModalOpen=!1},toggleAmenities:function(){this.isAmenitiesModalOpen=!this.isAmenitiesModalOpen,this.isTypesModalOpen=!1,this.isPriceModalOpen=!1},closeModals:function(){this.isTypesModalOpen=!1,this.isPriceModalOpen=!1,this.isAmenitiesModalOpen=!1},setFilter:function(){this.$emit("filter",this.filterByLocal)},clearFilter:function(){var t={price:[0,1500],types:[],amenities:[],city:""};this.$emit("filter",t)}},computed:{stayTypeList:function(){var t=this.unfilteredStays.map((function(t){return t.propertyType}));return Object(Kt["a"])(new Set(t))},stayAmenitiesList:function(){var t=[];return this.unfilteredStays.forEach((function(e){return e.amenities.forEach((function(e){e.txt&&t.push(e.txt)}))})),Object(Kt["a"])(new Set(t))},amenitiesPreview:function(){return this.filterBy.amenities.length?this.filterBy.amenities.join(","):"Amenities"},stayTypePreview:function(){return this.filterBy.types.length?this.filterBy.types.join(","):"Types"},pricePreview:function(){return 0!==this.filterBy.price[0]&&0!==this.filterBy.price[1]?"$".concat(this.filterBy.price[0]," - $").concat(this.filterBy.price[1]):"Price"},typesPos:function(){return this.$refs.priceBtn.offsetWidth+200}}}),Zt=Qt,Xt=Object(g["a"])(Zt,qt,Jt,!1,null,null,null),te=Xt.exports,ee={components:{stayList:zt,stayListFilter:te},data:function(){return{currCity:"",isLoading:!1,isCleared:!1}},methods:{setFilter:function(t){this.$store.commit({type:"setFilter",filterBy:t}),this.isLoading=!0,this.$store.dispatch({type:"loadStays"}),this.isLoading=!1,this.isCleared=!0}},computed:{stays:function(){return this.$store.getters.stays},filterBy:function(){return this.$store.getters.filterBy},unfilteredStays:function(){return this.$store.getters.unfilteredStays},place:function(){return this.currCity&&!this.isCleared?"Places in ".concat(this.currCity):"Entire places"},city:function(){if(this.currCity&&!this.isCleared)return this.currCity;this.currCity=!1}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("toggleLoading",!0),t.$emit("scrolled",!0),s=t.$route.params.city,t.currCity=s,s&&(n=t.$store.getters.filterBy,n.city=s,t.visitors={"New York":"550,000",Paris:"400,000",London:"350,000",Amsterdam:"200,000"}[s],t.$store.commit({type:"setFilter",filterBy:n})),e.next=7,t.$store.dispatch({type:"loadUnfilteredStays"});case 7:return e.next=9,t.$store.dispatch({type:"loadStays"});case 9:t.$emit("toggleLoading",!1);case 10:case"end":return e.stop()}}),e)})))()},destroyed:function(){this.$store.commit({type:"setFilter",filterBy:{price:[0,1500],types:[],amenities:[],city:""}})}},se=ee,ne=Object(g["a"])(se,Rt,Tt,!1,null,null,null),re=ne.exports,ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.stay?n("section",{staticClass:"stay-details"},[n("section",{staticClass:"header"},[n("section",{staticClass:"details"},[n("h2",[t._v(t._s(t.stay.name))]),n("p",[t.reviewsLength?n("span",[n("i",{staticClass:"el-icon-star-on"}),t._v(" "+t._s(t.avg)+" "),n("span",{staticClass:"details-reviews"},[t._v("("+t._s(t.reviewsLength)+" reviews)")]),t._v(" · ")]):t._e(),n("span",{staticClass:"details-location"},[t._v(t._s(t.address))])])]),n("section",{staticClass:"actions"},[n("div",{staticClass:"share"},[n("i",{staticClass:"el-icon-upload2"}),n("button",{on:{click:function(e){return e.stopPropagation(),t.toggleShare.apply(null,arguments)}}},[n("span",[t._v("Share")])])]),n("div",{staticClass:"save"},[n("svg",{staticStyle:{display:"block",fill:"none",height:"16px",width:"15px",stroke:"currentcolor","stroke-width":"3",overflow:"visible"},attrs:{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false"}},[n("path",{attrs:{d:"m16 28c7-4.733 14-10 14-17 0-1.792-.683-3.583-2.05-4.95-1.367-1.366-3.158-2.05-4.95-2.05-1.791 0-3.583.684-4.949 2.05l-2.051 2.051-2.05-2.051c-1.367-1.366-3.158-2.05-4.95-2.05-1.791 0-3.583.684-4.949 2.05-1.367 1.367-2.051 3.158-2.051 4.95 0 7 7 12.267 14 17z"}})]),t._m(0)])])]),n("section",{staticClass:"images"},[t.stay.imgUrls[0]?n("img",{attrs:{src:t.stay.imgUrls[0]}}):n("img",{attrs:{src:s("3cba"),alt:""}}),n("section",{staticClass:"secondary"},[t.stay.imgUrls[1]?n("img",{attrs:{src:t.stay.imgUrls[1]}}):n("img",{attrs:{src:s("3cba"),alt:""}}),t.stay.imgUrls[2]?n("img",{attrs:{src:t.stay.imgUrls[2]}}):n("img",{attrs:{src:s("3cba"),alt:""}}),t.stay.imgUrls[3]?n("img",{attrs:{src:t.stay.imgUrls[3]}}):n("img",{attrs:{src:s("3cba"),alt:""}}),t.stay.imgUrls[4]?n("img",{attrs:{src:t.stay.imgUrls[4]}}):n("img",{attrs:{src:s("3cba"),alt:""}})])]),t.stay.imgUrls.length?n("el-carousel",{staticClass:"details-carousel",attrs:{trigger:"click",arrow:"always",height:"250px",autoplay:!1,loop:!0}},t._l(t.stay.imgUrls,(function(t,e){return n("el-carousel-item",{key:e},[n("img",{attrs:{src:t}})])})),1):t._e(),n("section",{staticClass:"flex-container"},[n("section",{staticClass:"stay-info"},[n("section",{staticClass:"info-header"},[n("div",[n("h2",[t._v(t._s(t.infoHeader))]),n("span",[t._v(t._s(t.stay.accommodates)+" guests · "+t._s(t.stay.propertyType)+" · "+t._s(t.beds)+" · "+t._s(t.baths))])]),n("img",{attrs:{src:t.stay.host.imgUrl,alt:""}})]),n("section",{staticClass:"info-about"},[n("h2",[t._v("All about "+t._s(t.stay.host.fullname)+"'s place")]),n("p",[t._v(t._s(t.stay.summary+"."))])]),n("section",{staticClass:"amenities"},[n("h2",[t._v("What this place offers")]),n("section",t._l(t.stay.amenities,(function(e,s){return n("article",{key:s},[e.fa?n("font-awesome-icon",{attrs:{icon:t.icons[e.icon]}}):n("i",{class:e.icon}),t._v(" "+t._s(e.txt)+" ")],1)})),0)])]),n("stay-checkout",{attrs:{price:t.stay.price,reviews:t.stay.reviews,accommodates:t.stay.accommodates},on:{checkout:t.checkout}})],1),n("review-ratings",{attrs:{reviews:t.stay.reviews}}),t.loggedInUser?n("el-button",{on:{click:function(e){return e.stopPropagation(),t.toggleReview.apply(null,arguments)}}},[t._v("Add Review")]):t._e(),t.isScreenOpen?n("review-add",{on:{"add-review":t.onAddReview,"toggle-review":t.toggleReview}}):t._e(),t.stay.reviews.length?n("review-list",{attrs:{reviews:t.stay.reviews}}):n("section",{staticClass:"no-reviews"},[n("h2",[t._v("No reviews (yet)")])]),n("stay-map",{attrs:{loc:t.stay.loc}}),n("section",{staticClass:"host-info"},[n("div",{staticClass:"left"},[n("section",{staticClass:"host-info-header"},[n("img",{attrs:{src:t.stay.host.imgUrl,alt:""}}),n("div",[n("h2",[t._v("Hosted by "+t._s(t.stay.host.fullname))]),n("p",[t._v("Joined in December 2014")])])]),n("section",{staticClass:"badges"},[n("p",[n("span",{staticClass:"material-icons"},[t._v(" star ")]),t._v(t._s(t.stay.reviews.length))]),n("p",[n("font-awesome-icon",{attrs:{icon:t.icons.userShield}}),t._v(" Identity verified ")],1)]),n("p",{staticClass:"host-description"},[t._v(" Lorem ipsum, dolor sit amet consectetur adipisicing elit. Vitae mollitia repudiandae, dicta rerum, consequatur molestiae quasi animi quis, repellat consequuntur in. Voluptate alias ")])]),n("div",{staticClass:"right"},[n("section",{staticClass:"host-details"},[n("p",[t._v("Response rate: 86%")]),n("p",[t._v("Response time: within an hour")]),n("button",{on:{click:t.toggleChat}},[t._v("Contact host")]),t._m(1)])])]),t.isChatOpen?n("chat",{staticClass:"chat",attrs:{stay:t.stay,msgHistory:t.stay.chatMsgs},on:{close:t.toggleChat}}):t._e()],1):t._e()},ae=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",[s("span",[t._v("Save")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"details-alert"},[n("img",{attrs:{src:s("21ec")}}),n("small",[t._v(" To protect your payment, never transfer money or communicate outside of the Trippo website or app.")])])}],oe=s("bc3a"),ce=s.n(oe),le="/api/",ue=ce.a.create({withCredentials:!0}),de={get:function(t,e){return pe(t,"GET",e)},post:function(t,e){return pe(t,"POST",e)},put:function(t,e){return pe(t,"PUT",e)},delete:function(t,e){return pe(t,"DELETE",e)}};function pe(t){return fe.apply(this,arguments)}function fe(){return fe=Object(a["a"])(regeneratorRuntime.mark((function t(e){var s,n,r,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=i.length>1&&void 0!==i[1]?i[1]:"GET",n=i.length>2&&void 0!==i[2]?i[2]:null,t.prev=2,t.next=5,ue({url:"".concat(le).concat(e),method:s,data:n,params:"GET"===s?n:null});case 5:return r=t.sent,t.abrupt("return",r.data);case 9:throw t.prev=9,t.t0=t["catch"](2),console.log("Had Issues ".concat(s,"ing to the backend, endpoint: ").concat(e,", with data: ").concat(n)),console.dir(t.t0),t.t0.response&&t.t0.response.status,t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,9]])}))),fe.apply(this,arguments)}var me={query:ge,getById:ye,remove:be,save:_e,getEmptyOrder:we},he="order/";function ge(){return ve.apply(this,arguments)}function ve(){return ve=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,de.get(he);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),ve.apply(this,arguments)}function ye(t){return de.get("".concat(he).concat(t))}function be(t){return de.delete("".concat(he).concat(t))}function _e(t){return t._id?de.put("".concat(he).concat(t._id),t):de.post(he,t)}function we(){return{}}var ke=s("c074"),Ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isShowMore?s("section",{staticClass:"review-list"},[s("section",{staticClass:"reviews-on-mobile"},t._l(t.reviews,(function(t){return s("review-preview",{key:t.id,attrs:{review:t}})})),1),s("button",{staticClass:"show-more",on:{click:t.toggleShowMore}},[t._v("Show Less")])]):s("section",{staticClass:"review-list"},[s("section",{staticClass:"reviews-on-mobile"},t._l(t.cutReviews,(function(t){return s("review-preview",{key:t.id,attrs:{review:t}})})),1),s("button",{staticClass:"show-more",on:{click:t.toggleShowMore}},[t._v("Show More")])])},xe=[],Ae=(s("fb6a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"review-preview"},[s("section",{staticClass:"user"},[s("img",{attrs:{src:t.review.by.imgUrl}}),s("div",[s("p",{staticClass:"review-name"},[t._v(t._s(t.review.by.fullname))]),s("p",[t._v(t._s(t._f("moment")(t.review.at,"from")))])])]),s("p",{staticClass:"txt"},[t._v(t._s(t.review.txt))])])}),Se=[],je={props:{review:Object}},Oe=je,Le=Object(g["a"])(Oe,Ae,Se,!1,null,null,null),$e=Le.exports,Be={components:{reviewPreview:$e},props:{reviews:Array},data:function(){return{cutReviews:this.reviews.slice(0,6),isShowMore:!1}},methods:{toggleShowMore:function(){this.isShowMore=!this.isShowMore}}},Pe=Be,Ue=Object(g["a"])(Pe,Ce,xe,!1,null,null,null),Re=Ue.exports,Te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"stay-map"},[n("h2",[t._v("Where you'll be")]),n("p",[t._v(t._s(t.address))]),n("GmapMap",{ref:"mapRef",staticStyle:{width:"100%",height:"600px"},attrs:{center:{lat:10,lng:10},zoom:16,"map-type-id":"terrain"}},t._l(t.markers,(function(e,r){return n("GmapMarker",{key:r,attrs:{position:e.position,icon:{url:s("f6de")}},on:{click:function(s){t.center=e.position}}})})),1)],1)},Ee=[],Ie={props:{loc:Object},data:function(){return{markers:[{position:{lat:this.loc.lat,lng:this.loc.lng}}]}},computed:{address:function(){return"NY"===this.loc.countryCode?this.loc.address+" United States":this.loc.address}},methods:{},mounted:function(){var t=this;this.$refs.mapRef.$mapPromise.then((function(e){e.panTo({lat:t.loc.lat,lng:t.loc.lng})}))}},Me=Ie,Fe=Object(g["a"])(Me,Te,Ee,!1,null,null,null),Ne=Fe.exports,De=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("div",{staticClass:"chat-header"},[s("div",{staticClass:"name"},[s("p",[t._v(t._s(t.stay.name))])]),s("div",{staticClass:"chat-controls"},[s("button",[t._v("_")]),s("button",{on:{click:t.toggleChat}},[t._v("X")])])]),s("div",{staticClass:"chat-body"},[s("ul",t._l(t.msgs,(function(e,n){return s("li",{key:n,staticClass:"msg-from"},[s("span",[t._v(t._s(e.from)+":")]),t._v(t._s(e.txt)+" ")])})),0),t.showTyping?s("p",[t._v(t._s(t.typingUsername)+":is typing...")]):t._e()]),s("div",{staticClass:"chat-footer"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.sendMsg.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.msg.txt,expression:"msg.txt"}],attrs:{type:"text",placeholder:"Your message"},domProps:{value:t.msg.txt},on:{input:[function(e){e.target.composing||t.$set(t.msg,"txt",e.target.value)},t.setIsTyping]}}),s("button",[t._v("Send")])])])])},Ge=[],Ve=(s("4de4"),s("8055")),We=s.n(Ve),Ye="order-added-watch",He="order-added",ze="stay-watch",qe="review-added",Je="order-watch",Ke="order-updated",Qe="",Ze=Xe();function Xe(){var t=null,e={setup:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=We()(Qe);case 1:case"end":return e.stop()}}),e)})))()},on:function(e,s){t.on(e,s)},off:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(s?t.off(e,s):t.removeAllListeners(e))},emit:function(e,s){t.emit(e,s)},terminate:function(){t=null}};return e}window.socketService=Ze,Ze.setup();var ts={props:{stay:Object,msgHistory:Array},data:function(){return{msg:{from:this.$store.getters.loggedinUser.username,txt:""},msgs:[],topic:this.stay._id,timeout:void 0,isTyping:!1,typingUsername:""}},methods:{toggleChat:function(){this.$emit("close",!1)},addMsg:function(t){this.msgs.push(t)},sendMsg:function(){console.log("Sending",this.msg),console.log(this.stay._id),Ze.emit("chat newMsg",{msg:this.msg,stayId:this.stay._id}),this.msg={from:this.$store.getters.loggedinUser.username,txt:""}},setIsTyping:function(){!1===this.isTyping?(this.isTyping=!0,Ze.emit("set typing",{isTyping:this.isTyping,username:this.loggedinUserName}),this.timeout=setTimeout(this.timeoutFunction,700)):(clearTimeout(this.timeout),this.timeout=setTimeout(this.timeoutFunction,700))},timeoutFunction:function(){this.isTyping=!1,Ze.emit("set typing",{isTyping:this.isTyping,username:this.loggedinUserName})}},computed:{loggedinUserName:function(){return this.$store.getters.loggedinUser.username},showTyping:function(){return this.isTyping&&this.typingUsername!==this.loggedinUserName}},created:function(){var t,e=this;this.msgHistory&&(t=this.msgs).push.apply(t,Object(Kt["a"])(this.msgHistory)),Ze.emit("chat topic",this.topic),Ze.on("chat addMsg",this.addMsg),Ze.on("change typing",(function(t){var s=t.isTyping,n=t.username;console.log("istypig",s),e.isTyping=s,e.typingUsername=n}))},destroyed:function(){Ze.off("chat addMsg",this.addMsg)}},es=ts,ss=Object(g["a"])(es,De,Ge,!1,null,null,null),ns=ss.exports,rs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"stay-checkout"},[s("section",{staticClass:"checkout-header"},[s("p",[s("span",{staticClass:"price"},[t._v("$"+t._s(t.price))]),t._v("/night ")]),s("p",[s("i",{staticClass:"el-icon-star-on"}),s("span",[t._v(t._s(t.avg)+" ")]),s("span",[t._v(" ("+t._s(t.reviews.length)+" reviews)")])])]),s("section",{staticClass:"pickers"},[s("div",{staticClass:"block"},[s("el-date-picker",{ref:"myDatePicker",staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"","start-placeholder":"Check-in","end-placeholder":"Checkout"},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}})],1),s("div",{staticClass:"guests"},[s("p",[t._v("Guests:")]),s("div",{staticClass:"control"},[s("button",{class:{show:t.guestsCount>1},on:{click:t.decGuests}},[t._v(" - ")]),s("span",{staticClass:"guestsCount"},[t._v(t._s(t.guestsCount))]),s("button",{class:{show:t.guestsCount<t.accommodates},on:{click:t.incGuests}},[t._v(" + ")])])])]),s("button",{ref:"myBtn",staticClass:"checkout-btn",on:{click:t.checkout}},[t.isLoading?s("vue-loaders-ball-clip-rotate-multiple",{staticStyle:{height:"23px",top:"-7px"},attrs:{color:"white"}}):s("span",[t._v(t._s(t.checkoutBtnTxt))])],1),t.dates?s("section",{staticClass:"reservation-data"},[s("div",{staticClass:"charges-data"},[s("small",[t._v("You won't be charged yet")]),s("div",{staticClass:"charges"},[s("p",[t._v("Accomodation")]),s("p",[t._v(t._s(t.computedPrice.accomodation))])]),s("div",{staticClass:"charges"},[s("p",[t._v("Service fee")]),s("p",[t._v(t._s(t.computedPrice.service))])])]),s("div",{staticClass:"total"},[s("p",[t._v("Total")]),s("p",[t._v(t._s(t.computedPrice.total))])])]):t._e()])},is=[],as=(s("a9e3"),{props:{reviews:Array,price:Number,accommodates:Number},data:function(){return{isLoading:!1,shortcuts:[{text:"Last week",value:function(){var t=new Date,e=new Date;return e.setTime(e.getTime()-6048e5),[e,t]}()},{text:"Last month",value:function(){var t=new Date,e=new Date;return e.setTime(e.getTime()-2592e6),[e,t]}()},{text:"Last 3 months",value:function(){var t=new Date,e=new Date;return e.setTime(e.getTime()-7776e6),[e,t]}()}],dates:"",guestsCount:1}},computed:{avg:function(){var t=this.reviews.reduce((function(t,e){return t+e.rate}),0);return 0===t?0:(t/this.reviews.length).toFixed(1)},checkoutBtnTxt:function(){return this.dates?"Reserve":"Check availabilty"},computedPrice:function(){var t=this.dates[0].getTime(),e=this.dates[1].getTime(),s=(e-t)/1e3/60/60/24,n=this.price*s,r=this.price/10,i=n+r,a=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0});return{accomodation:a.format(n),service:a.format(r),total:a.format(i),totalNumber:i}}},methods:{decGuests:function(){this.guestsCount>1&&this.guestsCount--},incGuests:function(){this.guestsCount<this.accommodates&&this.guestsCount++},checkout:function(){var t=this;this.dates?(this.$emit("checkout",{dates:this.dates,guests:this.guestsCount,total:this.computedPrice.totalNumber}),this.isLoading=!0,this.$refs.myBtn.disabled=!0,setTimeout((function(){t.isLoading=!1}),2e3),setTimeout((function(){t.$refs.myBtn.disabled=!1}),1e4)):this.$refs.myDatePicker.focus()}},mounted:function(){this.$refs.myBtn.onmousemove=function(t){var e=t.offsetX,s=t.offsetY;t.target.style.setProperty("--x","".concat(e,"px")),t.target.style.setProperty("--y","".concat(s,"px"))}}}),os=as,cs=(s("fa1d"),Object(g["a"])(os,rs,is,!1,null,null,null)),ls=cs.exports,us=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"review-add",attrs:{action:""},on:{click:function(e){return e.stopPropagation(),t.stopProp.apply(null,arguments)}}},[s("h2",[t._v("Add a review")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.review.txt,expression:"review.txt"}],attrs:{name:"review",cols:"38",rows:"10",placeholder:"How was your stay?"},domProps:{value:t.review.txt},on:{input:function(e){e.target.composing||t.$set(t.review,"txt",e.target.value)}}}),s("div",{staticClass:"block"},[s("span",{staticClass:"rate-stay"},[t._v("Rate your stay")]),s("el-rate",{model:{value:t.review.rate,callback:function(e){t.$set(t.review,"rate",e)},expression:"review.rate"}})],1),s("el-button",{attrs:{type:"danger"},on:{click:t.addReview}},[t._v("Add Review")]),s("el-button",{on:{click:t.toggleReview}},[t._v("Cancel")])],1)},ds=[],ps={data:function(){return{review:{txt:"",rate:null}}},methods:{addReview:function(t){t.preventDefault(),this.review.by={imgUrl:this.loggedInUser.imgUrl,fullname:this.loggedInUser.fullname},this.review.at=Date.now(),this.$emit("add-review",this.review)},toggleReview:function(t){t.preventDefault(),this.$emit("toggle-review")},stopProp:function(){}},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser}}},fs=ps,ms=Object(g["a"])(fs,us,ds,!1,null,null,null),hs=ms.exports,gs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"reviews-ratings-container"},[s("div",{staticClass:"review-header"},[s("span",{staticClass:"material-icons"},[t._v(" star ")]),s("p",[t._v(t._s(t.avg))]),t._v(" · "),s("span",[t._v(t._s(t.reviewsCount))])]),s("section",{staticClass:"review-ratings"},[s("div",[s("p",[t._v("Cleaniness")]),s("section",[s("div",{staticClass:"bar"},[s("div",{staticClass:"progress",style:{width:t.bars[0]+"%"}})]),s("span",[t._v(t._s(t.rating(t.bars[0])))])])]),s("div",[s("p",[t._v("Communication")]),s("section",[s("div",{staticClass:"bar"},[s("div",{staticClass:"progress",style:{width:t.bars[1]+"%"}})]),s("span",[t._v(t._s(t.rating(t.bars[1])))])])]),s("div",[s("p",[t._v("Check-In")]),s("section",[s("div",{staticClass:"bar"},[s("div",{staticClass:"progress",style:{width:t.bars[2]+"%"}})]),s("span",[t._v(t._s(t.rating(t.bars[3])))])])]),s("div",[s("p",[t._v("Accuracy")]),s("section",[s("div",{staticClass:"bar"},[s("div",{staticClass:"progress",style:{width:t.bars[3]+"%"}})]),s("span",[t._v(t._s(t.rating(t.bars[3])))])])]),s("div",[s("p",[t._v("Location")]),s("section",[s("div",{staticClass:"bar"},[s("div",{staticClass:"progress",style:{width:t.bars[4]+"%"}})]),s("span",[t._v(t._s(t.rating(t.bars[4])))])])]),s("div",[s("p",[t._v("Value")]),s("section",[s("div",{staticClass:"bar"},[s("div",{staticClass:"progress",style:{width:t.bars[5]+"%"}})]),s("span",[t._v(t._s(t.rating(t.bars[5])))])])])])])},vs=[],ys={saveToStorage:bs,loadFromStorage:_s,makeId:ws,getRandomInt:ks,getRandomColor:Cs,getPredefinedColor:xs};function bs(t,e){localStorage.setItem(t,JSON.stringify(e)||null)}function _s(t){var e=localStorage.getItem(t);return e?JSON.parse(e):void 0}function ws(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:11,e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<t;n++)e+=s.charAt(Math.floor(Math.random()*s.length));return e}function ks(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1)+t)}function Cs(){for(var t="#",e=0;e<6;e++){var s=Math.random(),n=16*s|0;t+=n.toString(16)}return t}function xs(t){return["#0D8CFF","#FF2A19","#00FFF7","#FE9E00","#0DFF74","#8500FF","#28a29a","#FE6760","#fa8af3"][t]}var As={props:{reviews:Array},data:function(){return{bars:[ys.getRandomInt(85,100),ys.getRandomInt(85,100),ys.getRandomInt(85,100),ys.getRandomInt(85,100),ys.getRandomInt(85,100),ys.getRandomInt(85,100)]}},computed:{avg:function(){if(!this.reviews.length)return 0;var t=this.reviews.reduce((function(t,e){return t+e.rate}),0);return(t/this.reviews.length).toFixed(1)},reviewsCount:function(){return 1===this.reviews.length?"1 review":this.reviews.length+" reviews"}},methods:{rating:function(t){return t>99?"5.0":(t/20).toFixed(1)}}},Ss=As,js=Object(g["a"])(Ss,gs,vs,!1,null,null,null),Os=js.exports,Ls={props:{isScreenOpen:Boolean},components:{FontAwesomeIcon:l["a"],reviewList:Re,stayMap:Ne,stayCheckout:ls,chat:ns,reviewAdd:hs,reviewRatings:Os},data:function(){return{isChatOpen:!1,icons:{wifi:ke["g"],paw:ke["b"],snowflake:ke["d"],userShield:ke["f"],shieldAlt:ke["c"]},isLoading:!0}},computed:{address:function(){return"NY"===this.stay.loc.countryCode?this.stay.loc.address+"United States":this.stay.loc.address},reviewsLength:function(){return this.stay.reviews.length},infoHeader:function(){return this.stay.propertyType+" host by "+this.stay.host.fullname},beds:function(){return 1===this.stay.accommodates?this.stay.accommodates+" bed":this.stay.accommodates+" beds"},baths:function(){return 1===this.stay.accommodates?this.stay.accommodates+" bath":this.stay.accommodates+" baths"},loggedInUser:function(){return this.$store.getters.loggedinUser},stay:function(){return this.$store.getters.watchedStay},avg:function(){if(!this.stay.reviews.length)return 0;var t=this.stay.reviews.reduce((function(t,e){return t+e.rate}),0);return(t/this.stay.reviews.length).toFixed(1)}},methods:{checkout:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var n,r,i,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=t.dates,r=t.total,i=t.guests,a=me.getEmptyOrder(),a.startDate=n[0].getTime(),a.endDate=n[1].getTime(),a.total=r,a.guests=i,s.prev=6,s.next=9,e.$store.dispatch({type:"saveOrder",order:a,stay:e.stay});case 9:setTimeout((function(){U("order sent")}),2e3),s.next=15;break;case 12:s.prev=12,s.t0=s["catch"](6),U("order failed","error");case 15:case"end":return s.stop()}}),s,null,[[6,12]])})))()},toggleShare:function(){this.$emit("toggleShare",!0)},toggleChat:function(){this.isChatOpen=!this.isChatOpen},toggleReview:function(){this.$emit("screen",!this.isScreenOpen)},onAddReview:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.$store.dispatch({type:"addReview",stay:e.stay,review:t});case 3:n=s.sent,e.$store.commit({type:"setWatchedStay",stay:n}),e.toggleReview(),U("Review added successfully"),s.next=12;break;case 9:s.prev=9,s.t0=s["catch"](0),U("There was a problem posting the review","error");case 12:case"end":return s.stop()}}),s,null,[[0,9]])})))()}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("toggleLoading",!0),e.prev=1,t.$emit("scrolled",!0),s=t.$route.params.stayId,e.next=6,t.$store.dispatch({type:"loadAndWatchStay",stayId:s});case 6:t.$emit("toggleLoading",!1),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log("Cannot get stay with id:",stayId);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()}},$s=Ls,Bs=Object(g["a"])($s,ie,ae,!1,null,null,null),Ps=Bs.exports,Us=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",[t._v("edit")])},Rs=[],Ts={},Es=Ts,Is=Object(g["a"])(Es,Us,Rs,!1,null,null,null),Ms=Is.exports,Fs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loggedInUser?s("section",{staticClass:"user-profile-container"},[s("div",{staticClass:"profile-header"},[s("nav",[s("ul",[s("li",{class:{acitve:t.profileOpen},on:{click:t.openProfile}},[t._v("Profile")]),s("li",{class:{acitve:t.dashboardOpen},on:{click:t.openDashboard}},[t._v(" Dashboard ")]),s("li",{class:{acitve:t.inboxOpen},on:{click:t.openInbox}},[t._v("inbox")])])])]),t.dashboardOpen?s("profile-dashboard",{attrs:{totalEarnings:t.totalEarnings}}):t._e(),t.inboxOpen?s("profile-inbox"):t._e(),t.loggedInUser&&t.profileOpen?s("section",{staticClass:"user-profile"},[s("section",{staticClass:"profile-card"},[s("div",[s("section",{staticClass:"img-upload-container"},[t.isLoading?s("img",{staticClass:"loading",attrs:{src:"https://i.pinimg.com/originals/f6/65/6a/f6656aa6fdb6b8f905dea0bcc2d71dd8.gif",alt:""}}):s("label",[s("img",{attrs:{src:t.loggedInUser.imgUrl,alt:""}}),s("input",{attrs:{type:"file",id:"imgUpload",hidden:""},on:{change:t.onUploadImg}}),s("p",[t._v("update photo")])])])]),s("div",[s("button",{staticClass:"add-stay",on:{click:t.openModal}},[t._v("Add New Stay")])])]),t.isModalOpen?s("stay-add",{attrs:{stay:t.stay},on:{close:t.closeModal}}):s("section",{staticClass:"data"},[s("section",{staticClass:"statistics"},[s("p",[t._v(" Assets you own: "),s("span",[t._v(t._s(t.staysLength))])]),s("p",[t._v(" Sent orders: "),s("span",[t._v(t._s(t.sentOrdersLength))])]),s("p",[t._v(" Recieved orders: "),s("span",[t._v(t._s(t.recievedOrdersLength))])])]),s("section",{staticClass:"orders-table"},[s("h2",[t._v("My reservations:")]),s("profile-filter",{attrs:{isStaysFilter:!1},on:{filter:t.setFilter}}),t.sentOrders.length?s("profile-table",{attrs:{orders:t.sentOrders,showActions:!1}}):t._e()],1),s("section",{staticClass:"orders-table"},[s("h2",[t._v("Orders:")]),s("profile-filter",{attrs:{isStaysFilter:!1},on:{filter:t.setFilter}}),t.recievedOrders.length?s("profile-table",{attrs:{orders:t.recievedOrders,stays:t.computedStays,showActions:!0}}):t._e()],1),s("section",{staticClass:"stays-table"},[s("h2",[t._v("My assets:")]),s("profile-filter",{attrs:{isStaysFilter:!0},on:{filter:t.setStaysFilter}}),s("profile-stay-table",{attrs:{stays:t.computedStays},on:{"edit-stay":t.editStay}})],1)])],1):t._e()],1):t._e()},Ns=[],Ds=(s("b0c0"),s("caad"),s("2532"),function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var s,n,r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="dandan-img-cloud",n="dandan_img_cloud",r="https://api.cloudinary.com/v1_1/".concat(s,"/image/upload"),i=new FormData,i.append("file",e.target.files[0]),i.append("upload_preset",n),t.prev=6,t.next=9,ce.a.post(r,i);case 9:return a=t.sent,t.abrupt("return",a.data);case 13:t.prev=13,t.t0=t["catch"](6),console.error("ERROR!",t.t0);case 16:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e){return t.apply(this,arguments)}}()),Gs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"filter-orders"},[s("el-input",{staticClass:"name-input",attrs:{placeholder:"Search",clearable:""},on:{input:t.setFilter},model:{value:t.filterBy.name,callback:function(e){t.$set(t.filterBy,"name",e)},expression:"filterBy.name"}}),t.isStaysFilter?t._e():s("el-select",{staticClass:"status-input",attrs:{placeholder:"Order Status"},on:{change:t.setFilter},model:{value:t.filterBy.status,callback:function(e){t.$set(t.filterBy,"status",e)},expression:"filterBy.status"}},t._l(t.statusList,(function(t){return s("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})})),1)],1)},Vs=[],Ws={props:{isStaysFilter:Boolean},data:function(){return{filterBy:{status:"",name:""},statusList:[{label:"All",value:""},{label:"Pending",value:"pending"},{label:"Approved",value:"approved"},{label:"Rejected",value:"rejected"}]}},methods:{setFilter:function(){this.$emit("filter",this.filterBy)}}},Ys=Ws,Hs=Object(g["a"])(Ys,Gs,Vs,!1,null,null,null),zs=Hs.exports,qs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isAddOpen&&t.stayToAdd&&!t.isLoading?s("section",{staticClass:"add-container"},[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var n=e.invalid;return[s("el-form",{ref:"form",attrs:{model:t.stayToAdd}},[s("el-form-item",{attrs:{label:"Property name"}},[s("ValidationProvider",{attrs:{name:"Property type",rules:"required|alpha_spaces"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[s("el-input",{class:t.nameError,model:{value:t.stayToAdd.name,callback:function(e){t.$set(t.stayToAdd,"name",e)},expression:"stayToAdd.name"}}),s("span",{staticClass:"err"},[t._v(t._s(n[0]))])]}}],null,!0)})],1),s("div",{staticClass:"middle"},[s("div",{staticClass:"middle-left"},[s("el-form-item",{attrs:{label:"Price per night"}},[s("ValidationProvider",{attrs:{rules:"between:1,5000",name:"Price amount"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[s("el-input",{class:t.priceError,model:{value:t.stayToAdd.price,callback:function(e){t.$set(t.stayToAdd,"price",t._n(e))},expression:"stayToAdd.price"}}),s("span",{staticClass:"err"},[t._v(t._s(n[0]))])]}}],null,!0)})],1),s("el-form-item",{attrs:{label:"Max guests"}},[s("ValidationProvider",{attrs:{rules:"between:1,5000",name:"Guests amount"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[s("el-input",{class:t.accError,model:{value:t.stayToAdd.accommodates,callback:function(e){t.$set(t.stayToAdd,"accommodates",t._n(e))},expression:"stayToAdd.accommodates"}}),s("span",{staticClass:"err"},[t._v(t._s(n[0]))])]}}],null,!0)})],1),s("el-form-item",{attrs:{label:"Activity zone"}},[s("ValidationProvider",{attrs:{rules:"required",name:"Country"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[s("el-select",{attrs:{placeholder:"please select your country"},model:{value:t.stayToAdd.loc.country,callback:function(e){t.$set(t.stayToAdd.loc,"country",e)},expression:"stayToAdd.loc.country"}},[s("el-option",{attrs:{label:"Netherlands",value:"Netherlands"}}),s("el-option",{attrs:{label:"France",value:"France"}}),s("el-option",{attrs:{label:"New York",value:"New York"}})],1),s("span",{staticClass:"err"},[t._v(t._s(n[0]))])]}}],null,!0)})],1),s("el-form-item",{attrs:{label:"Activity type"}},[s("ValidationProvider",{attrs:{rules:"required",name:"Stay type"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[s("el-select",{attrs:{placeholder:"please select property type"},model:{value:t.stayToAdd.propertyType,callback:function(e){t.$set(t.stayToAdd,"propertyType",e)},expression:"stayToAdd.propertyType"}},[s("el-option",{attrs:{label:"Apartment",value:"Apartment"}}),s("el-option",{attrs:{label:"House",value:"House"}}),s("el-option",{attrs:{label:"Hotel",value:"Hotel"}}),s("el-option",{attrs:{label:"Loft",value:"Loft"}}),s("el-option",{attrs:{label:"Vila",value:"Vila"}})],1),s("span",{staticClass:"err"},[t._v(t._s(n[0]))])]}}],null,!0)})],1)],1),s("div",{staticClass:"middle-right"},[s("div",{staticClass:"imgs"},[s("div",{staticClass:"upload"},[s("img-upload",{on:{save:t.saveStaysImg}})],1),s("div",{staticClass:"imgs-container"},t._l(t.stayUrls,(function(t){return s("img",{key:t,attrs:{src:t,alt:""}})})),0)])])]),s("el-form-item",{staticClass:"Amenities",attrs:{label:"Amenities"}},[s("el-checkbox-group",{model:{value:t.stayToAdd.amenities,callback:function(e){t.$set(t.stayToAdd,"amenities",e)},expression:"stayToAdd.amenities"}},[s("el-checkbox",{attrs:{label:"TV",name:"TV",value:{txt:"TV",icon:"el-icon-monitor"},checked:!!t.stayToAdd.amenities[0]}}),s("el-checkbox",{attrs:{label:"Wifi",name:"Wifi",value:{txt:"Wifi",icon:"wifi",fa:!0},checked:!!t.stayToAdd.amenities[1]}}),s("el-checkbox",{attrs:{label:"Kitchen",name:"Kitchen",value:{txt:"Kitchen",icon:"el-icon-knife-fork"},checked:!!t.stayToAdd.amenities[2]}}),s("el-checkbox",{attrs:{label:"Pets allowed",name:"Pets",value:{txt:"Pets allowed",icon:"paw",fa:!0},checked:!!t.stayToAdd.amenities[3]}}),s("el-checkbox",{attrs:{label:"Air conditioning",name:"Air conditioning",value:{txt:"Air conditioning",icon:"snowflake",fa:!0},checked:!!t.stayToAdd.amenities[5]}}),s("el-checkbox",{attrs:{label:"Smoking allowed",name:"Smoking allowed",value:{txt:"Smoking allowed",icon:"el-icon-smoking"},checked:!!t.stayToAdd.amenities[6]}})],1)],1),s("el-form-item",{attrs:{label:"Summary"}},[s("el-input",{staticClass:"house-input",attrs:{type:"textarea"},model:{value:t.stayToAdd.summary,callback:function(e){t.$set(t.stayToAdd,"summary",e)},expression:"stayToAdd.summary"}})],1),t.errors.length?s("div",{staticClass:"errors"},t._l(t.errors,(function(e){return s("p",{key:e,staticClass:"error"},[t._v(t._s(e))])})),0):t._e(),s("el-form-item",[s("el-button",{attrs:{disabled:n},on:{click:t.saveStay}},[t._v("Create")]),s("el-button",{on:{click:t.closeAdd}},[t._v("Cancel")])],1)],1)]}}],null,!1,2282079518)})],1):s("section",[t._v("Loading...")])},Js=[],Ks=(s("b64b"),s("c740"),s("a434"),{query:Zs,getById:tn,remove:sn,save:rn,getEmptyStay:on}),Qs="stay/";function Zs(t){return Xs.apply(this,arguments)}function Xs(){return Xs=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,de.get(Qs,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),Xs.apply(this,arguments)}function tn(t){return en.apply(this,arguments)}function en(){return en=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,de.get("".concat(Qs).concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),en.apply(this,arguments)}function sn(t){return nn.apply(this,arguments)}function nn(){return nn=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,de.delete("".concat(Qs).concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),nn.apply(this,arguments)}function rn(t){return an.apply(this,arguments)}function an(){return an=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e._id){t.next=6;break}return t.next=3,de.put(Qs+e._id,e);case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,de.post(Qs,e);case 8:t.t0=t.sent;case 9:return t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t)}))),an.apply(this,arguments)}function on(){return{name:"",price:0,summary:"",imgUrls:[],propertyType:"",accommodates:0,amenities:[],loc:{country:"",address:""},reviews:[]}}var cn=s("7bb1"),ln=s("4c93"),un=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"img-upload-container"},[t.isLoading?s("img",{staticClass:"loading",attrs:{src:"https://i.pinimg.com/originals/f6/65/6a/f6656aa6fdb6b8f905dea0bcc2d71dd8.gif",alt:""}}):s("label",[s("span",{staticClass:"material-icons"},[t._v(" cloud_upload ")]),s("input",{attrs:{type:"file",id:"imgUpload",hidden:"",multiple:""},on:{change:t.onUploadImg}})])])},dn=[],pn={data:function(){return{isLoading:!1}},methods:{onUploadImg:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.isLoading=!0,s.next=3,Ds(t);case 3:n=s.sent,e.$emit("save",n.url),e.isLoading=!1;case 6:case"end":return s.stop()}}),s)})))()}}},fn=pn,mn=(s("60f0"),Object(g["a"])(fn,un,dn,!1,null,null,null)),hn=mn.exports;Object.keys(ln).forEach((function(t){Object(cn["c"])(t,ln[t])}));var gn,vn,yn,bn,_n={props:{stay:Object},components:{ValidationProvider:cn["b"],ValidationObserver:cn["a"],imgUpload:hn},data:function(){return{stayToAdd:null,isAddOpen:!0,errors:[],isLoading:!1,stayUrls:[]}},methods:{saveStaysImg:function(t){this.stayUrls.push(t)},saveStay:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.stayToAdd.host={_id:t.loggedInUser._id,fullname:t.loggedInUser.fullname,imgUrl:t.loggedInUser.imgUrl},!t.errors.length){e.next=3;break}return e.abrupt("return");case 3:return t.stayToAdd.imgUrls=t.stayUrls,e.prev=4,t.isLoading=!0,e.next=8,t.$store.dispatch({type:"saveStay",stay:t.stayToAdd});case 8:t.isLoading=!1,U("Stay added!"),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](4),U("Stay add failed","error");case 15:t.$emit("close",!1);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})))()},closeAdd:function(){this.$emit("close",!1)},checkErrors:function(){if(this.stayToAdd.price<=0){var t="Above 0 please in price field";this.errors.includes(t)||this.errors.push(t)}else{var e=this.errors.findIndex((function(t){return"Above 0 please in price field"===t}));this.errors.splice(e,1)}if(this.stayToAdd.accommodates<=0){var s="Above 0 please in guests field";this.errors.includes(s)||this.errors.push(s)}else{var n=this.errors.findIndex((function(t){return"Above 0 please in guests field"===t}));this.errors.splice(n,1)}if(this.stayToAdd.name){var r=this.errors.findIndex((function(t){return"Please fill stay name"===t}));this.errors.splice(r,1)}else{var i="Please fill stay name";this.errors.includes(i)||this.errors.push(i)}}},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser},nameError:function(){return{error:this.errors.includes("Please fill stay name")}},priceError:function(){return{error:this.errors.includes("Above 0 please in price field"),"add-price":!0}},accError:function(){return{error:this.errors.includes("Above 0 please in guests field"),"add-price":!0}}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.stay||!t.stay._id){e.next=8;break}return t.isLoading=!0,e.next=4,Ks.getById(t.stay._id);case 4:t.stayToAdd=e.sent,t.isLoading=!1,e.next=9;break;case 8:t.stayToAdd=Ks.getEmptyStay();case 9:case"end":return e.stop()}}),e)})))()}},wn=_n,kn=Object(g["a"])(wn,qs,Js,!1,null,null,null),Cn=kn.exports,xn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",{staticClass:"table-header"},[t.showActions?s("div",[t._v("Guest")]):t._e(),s("div",[t._v("Stay")]),s("div",[t._v(t._s(t.sentOrRecieved))]),s("div",[t._v("Check-In")]),s("div",[t._v("Check-Out")]),s("div",[t._v("Status")])]),t._l(t.orders,(function(e){return s("li",{key:e._id,staticClass:"table-row"},[t.showActions?s("div",[s("img",{attrs:{src:e.buyer.imgUrl}}),t._v(" "+t._s(t.longText(t.buyer(e)))+" ")]):t._e(),s("div",[t._v(t._s(t.longText(e.stay.name)))]),s("div",[t._v(t._s(t._f("moment")(e.createdAt,"from")))]),s("div",[t._v(t._s(t._f("moment")(e.startDate,"MM/DD/YY")))]),s("div",[t._v(t._s(t._f("moment")(e.endDate,"MM/DD/YY")))]),t.showActions?t._e():s("div",{class:{warning:"pending"===e.status,error:"rejected"===e.status,success:"approved"===e.status}},[t._v(" "+t._s(e.status)+" ")]),t.showActions?s("div",{class:{warning:"pending"===e.status,error:"rejected"===e.status,success:"approved"===e.status}},["pending"===e.status?s("button",{class:{approve:!0,warning:"pending"===e.status,error:"rejected"===e.status,success:"approved"===e.status},on:{click:function(s){return t.changeOrderStatus(e,"approved")}}},[s("font-awesome-icon",{attrs:{icon:t.check}})],1):t._e(),"pending"===e.status?s("button",{class:{reject:!0,warning:"pending"===e.status,error:"rejected"===e.status,success:"approved"===e.status},on:{click:function(s){return t.changeOrderStatus(e,"rejected")}}},[s("font-awesome-icon",{attrs:{icon:t.times}})],1):t._e(),"pending"!==e.status?s("span",[t._v(t._s(e.status))]):t._e()]):t._e()])}))],2)},An=[],Sn=(s("7db0"),{components:{FontAwesomeIcon:l["a"]},props:{orders:Array,stays:Array,showActions:Boolean},data:function(){return{localOrders:this.orders||[],check:ke["a"],times:ke["e"],isActionsShown:!0}},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser},sentOrRecieved:function(){return this.loggedInUser._id===this.orders[0].buyer._id?"Sent At":"Recieved At"}},methods:{changeOrderStatus:function(t,e){var s=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t.status=e,r=s.stays.find((function(e){return e._id===t.stay._id})),n.next=5,s.$store.dispatch({type:"saveOrder",order:t,stay:r});case 5:U("order status updated"),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),U("Order edit failed");case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},buyer:function(t){return null!==t&&void 0!==t&&t.buyer?t.buyer.fullname:this.loggedInUser.fullname},longText:function(t){return t.length<10?t:t.substring(0,10)+"..."}}}),jn=Sn,On=Object(g["a"])(jn,xn,An,!1,null,null,null),Ln=On.exports,$n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isLoading?t._e():s("section",[s("ul",{staticClass:"profile-stay-table"},[t._m(0),t._l(t.stays,(function(e,n){return s("li",{key:e._id,staticClass:"table-row"},[s("div",[t._v(t._s(e.name))]),s("div",[t._v(t._s(e.country))]),s("div",[t._v(t._s(t.formattedPrice(e.price)))]),s("div",{staticClass:"actions-td"},[s("button",{staticClass:"actionsBtn",on:{click:function(e){return e.stopPropagation(),t.toggleActionsModal(n)}}},[s("span",{staticClass:"material-icons"},[t._v(" more_horiz ")]),t.isActionsModalOpen&&t.num===n?s("div",{staticClass:"actionsModal",on:{click:function(t){t.stopPropagation()}}},[s("button",{staticClass:"edit-btn",on:{click:function(s){return s.stopPropagation(),t.onEditStay(e)}}},[t._v(" Edit ")]),s("button",{staticClass:"delete-btn",on:{click:function(s){return s.stopPropagation(),t.onRemoveStay(e)}}},[t._v(" Delete ")])]):t._e()])])])}))],2)])},Bn=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"table-header"},[s("div",[t._v("Name")]),s("div",[t._v("Country")]),s("div",[t._v("Price / Night")]),s("div",[t._v("Actions")])])}],Pn={components:{FontAwesomeIcon:l["a"]},props:{stays:Array},data:function(){return{isActionsModalOpen:!1,num:-2,isLoading:!1}},created:function(){window.addEventListener("click",this.bodyClick),console.log(this.stays)},methods:{formattedPrice:function(t){var e=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0});return e.format(t)},onRemoveStay:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:try{e.isLoading=!0,e.$store.dispatch({type:"removeStay",stayId:t._id}),e.isLoading=!1,U("Stay removed successfully")}catch(n){setTimeout,U("Stay remove failed","error")}case 1:case"end":return s.stop()}}),s)})))()},onEditStay:function(t){this.$emit("edit-stay",t)},toggleActionsModal:function(t){this.num=t,this.isActionsModalOpen=!this.isActionsModalOpen},bodyClick:function(){this.isActionsModalOpen=!1}}},Un=Pn,Rn=Object(g["a"])(Un,$n,Bn,!1,null,null,null),Tn=Rn.exports,En=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"dashboard-container"},[s("h2",[t._v("User Dashboard")]),s("h3",[t._v("Line chart header")]),s("line-chart",{staticClass:"chart",attrs:{orders:t.orders,stays:t.stays}}),s("h3",[t._v("Bar chart header")]),s("bar-chart",{staticClass:"chart",attrs:{totalEarnings:t.totalEarnings}})],1)},In=[],Mn=s("1fca"),Fn={extends:Mn["b"],props:{orders:Array,stays:Array},data:function(){var t=this;return{chartdata:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:this.stays.map((function(e,s){if(e.host._id===t.$store.getters.loggedinUser._id)return{label:e.name,data:t.orders.map((function(t){return t.stay._id===e._id?null===t||void 0===t?void 0:t.total:void 0})).filter((function(t){return t})),fill:!1,borderColor:ys.getPredefinedColor(s),tension:.1}})).filter((function(t){return t}))}}},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},mounted:function(){this.renderChart(this.chartdata,this.options)}},Nn=Fn,Dn=Object(g["a"])(Nn,gn,vn,!1,null,null,null),Gn=Dn.exports,Vn={extends:Mn["a"],props:{totalEarnings:Array},data:function(){return{chartdata:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Total earnings",data:this.totalEarnings,fill:!1,borderColor:"rgb(47, 109, 242)",tension:.1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}},mounted:function(){this.renderChart(this.chartdata,this.options)},created:function(){console.log("this.chratdata",this.chartdata),console.log(this.orders)}},Wn=Vn,Yn=Object(g["a"])(Wn,yn,bn,!1,null,null,null),Hn=Yn.exports,zn={components:{lineChart:Gn,barChart:Hn},props:{orders:Array,stays:Array,totalEarnings:Array},created:function(){},computed:{},methods:{}},qn=zn,Jn=Object(g["a"])(qn,En,In,!1,null,null,null),Kn=Jn.exports,Qn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"inbox-container"},[t._m(0),s("div",{staticClass:"conversation-container"},[s("h3",[t._v("user "+t._s(t.fullname))]),t._m(1)]),t._m(2)])},Zn=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"messages-list"},[s("div",{staticClass:"messages-list-header"},[s("span",{staticClass:"material-icons-outlined"},[t._v(" menu ")]),s("h3",[t._v("All messages")])]),s("input",{attrs:{type:"text",placeholder:"Search messages"}}),s("ul",[s("li",[s("div",{staticClass:"img"}),s("div",[s("h5",[t._v("fewfewr")]),s("p",[t._v("fefgregerfgref")]),s("p",[t._v("vbklmcbnkxfgm")])])]),s("li",[s("div",{staticClass:"img"}),s("div",[s("h5",[t._v("fewfewr")]),s("p",[t._v("fefgregerfgref")]),s("p",[t._v("vbklmcbnkxfgm")])])]),s("li",[s("div",{staticClass:"img"}),s("div",[s("h5",[t._v("fewfewr")]),s("p",[t._v("fefgregerfgref")]),s("p",[t._v("vbklmcbnkxfgm")])])]),s("li",[s("div",{staticClass:"img"}),s("div",[s("h5",[t._v("fewfewr")]),s("p",[t._v("fefgregerfgref")]),s("p",[t._v("vbklmcbnkxfgm")])])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("div",{staticClass:"img"}),s("div",[s("h5",[t._v("name")]),s("p",[t._v("fefgregerffwerfggref")])])]),s("li",[s("div",{staticClass:"img"}),s("div",[s("h5",[t._v("name")]),s("p",[t._v("fefgrefewfgerfgref")])])]),s("li",[s("div",{staticClass:"img"}),s("div",[s("h5",[t._v("name")]),s("p",[t._v("fefgrfewegerfgref")])])]),s("li",[s("div",{staticClass:"img"}),s("div",[s("h5",[t._v("name")]),s("p",[t._v("fefgregergvrefgrefvfgref")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"messages-stay-details"},[s("div",{staticClass:"messages-stay-details-header"},[s("h3",[t._v("Reservation details")]),s("span",{staticClass:"material-icons-outlined"},[t._v(" close ")])]),s("div",{staticClass:"info"},[s("div",{staticClass:"host-info"},[s("h5",[t._v("name")]),s("p",[t._v("2 guests · 4 nights · $213")]),s("p",[t._v("country city")])]),s("div",{staticClass:"img"})])])}],Xn={components:{},props:{},data:function(){return{fullname:"fullname"}},computed:{},methods:{},created:function(){}},tr=Xn,er=Object(g["a"])(tr,Qn,Zn,!1,null,null,null),sr=er.exports,nr={components:{profileFilter:zs,stayAdd:Cn,profileTable:Ln,ProfileStayTable:Tn,profileDashboard:Kn,profileInbox:sr},data:function(){return{isModalOpen:!1,profileOpen:!0,dashboardOpen:!1,inboxOpen:!1,isLoading:!1,filterBy:{name:"",status:""},staysFilterBy:{name:"",country:""},imgUrl:"",stay:null}},methods:{tableRowClassName:function(t){var e=t.row;t.rowIndex;return"pending"===e.status?"warning-row":"rejected"===e.status?"error-row":"approved"===e.status?"success-row":""},setFilter:function(t){this.filterBy=t},setStaysFilter:function(t){this.staysFilterBy=t},openModal:function(){this.isModalOpen=!0},closeModal:function(t){this.stay=null,this.isModalOpen=t},onUploadImg:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.isLoading=!0,s.next=3,Ds(t);case 3:n=s.sent,e.loggedInUser.imgUrl=n.url,e.$store.dispatch({type:"updateUser",user:e.loggedInUser}),e.isLoading=!1;case 7:case"end":return s.stop()}}),s)})))()},editStay:function(t){this.stay=t,this.openModal()},openProfile:function(){this.profileOpen=!0,this.dashboardOpen=!1,this.inboxOpen=!1},openDashboard:function(){this.dashboardOpen=!0,this.profileOpen=!1,this.inboxOpen=!1},openInbox:function(){this.inboxOpen=!0,this.profileOpen=!1,this.dashboardOpen=!1}},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser},sentOrdersLength:function(){var t=this;return this.$store.getters.orders.length?this.$store.getters.orders.reduce((function(e,s){return t.loggedInUser._id===s.buyer._id?e+1:e}),0):0},recievedOrdersLength:function(){var t=this;return this.$store.getters.orders.length?this.$store.getters.orders.reduce((function(e,s){return t.loggedInUser._id===s.host._id?e+1:e}),0):0},staysLength:function(){var t=this;return this.$store.getters.orders.length?this.$store.getters.stays.reduce((function(e,s){return t.loggedInUser._id===s.host._id?e+1:e}),0):0},totalEarnings:function(){for(var t=this,e=[],s=function(s){var n=t.ordersToLoggedinUser.reduce((function(t,e){var n=new Date(e.startDate).getMonth();return s===n?t+e.total:t}),0);e[s]=n},n=0;n<12;n++)s(n);return e},sentOrders:function(){var t=this,e=this.$store.getters.orders.map((function(e){if(e.buyer._id===t.loggedInUser._id){var s=new RegExp(t.filterBy.name,"i");if(e.status.includes(t.filterBy.status)&&s.test(e.stay.name))return e}}));return e.filter((function(t){return t}))},recievedOrders:function(){var t=this,e=this.$store.getters.orders.map((function(e){if(e.host._id===t.loggedInUser._id&&t.loggedInUser._id!==e.buyer._id){var s=new RegExp(t.filterBy.name,"i");if(e.status.includes(t.filterBy.status)&&s.test(e.stay.name))return e}}));return e.filter((function(t){return t}))},ordersToLoggedinUser:function(){var t=this,e=this.$store.getters.orders.map((function(e){if(e.host._id===t.loggedInUser._id&&t.loggedInUser._id!==e.buyer._id)return e}));return e.filter((function(t){return t}))},allStays:function(){return this.$store.getters.stays},staysOfLoggedinUser:function(){var t=this;return this.$store.getters.stays.filter((function(e){return t.loggedInUser._id===e.host._id}))},computedStays:function(){var t=this;return this.$store.getters.stays.filter((function(e){var s=new RegExp(t.staysFilterBy.name,"i");return t.loggedInUser._id===e.host._id&&s.test(e.name)||s.test(e.country)}))}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("toggleLoading",!0),t.$emit("scrolled",!0),t.$emit("hideSearch",!0),e.next=5,t.$store.dispatch({type:"loadStays"});case 5:return e.next=7,t.$store.dispatch({type:"loadOrders"});case 7:t.$emit("toggleLoading",!1);case 8:case"end":return e.stop()}}),e)})))()},destroyed:function(){this.$emit("hideSearch",!1)}},rr=nr,ir=Object(g["a"])(rr,Fs,Ns,!1,null,null,null),ar=ir.exports,or=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.stays?s("section",{staticClass:"user-wishlist-container"},[s("h2",[t._v("Wishlist")]),s("wishlist",{attrs:{stays:t.stays}})],1):t._e()},cr=[],lr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[t.stays.length?s("section",{staticClass:"stay-list"},t._l(t.stays,(function(t){return s("section",{key:t._id,staticClass:"stay-preveiw-container"})})),0):s("section",[t._v("No Available places")])])},ur=[],dr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"stay-card-container"},[n("div",{staticClass:"wishlist-img-container"},[t.stay.imgUrls[0]?n("img",{attrs:{src:t.stay.imgUrls[0],alt:""}}):n("img",{attrs:{src:s("3cba")}})])])},pr=[],fr={components:{},props:{stay:Object},data:function(){return{}},computed:{},methods:{},created:function(){}},mr=fr,hr=Object(g["a"])(mr,dr,pr,!1,null,null,null),gr=(hr.exports,{components:{stayPreview:Vt},props:{stays:Array},data:function(){return{}},computed:{},methods:{},created:function(){}}),vr=gr,yr=Object(g["a"])(vr,lr,ur,!1,null,null,null),br=yr.exports,_r={components:{wishlist:br},props:{},data:function(){return{}},computed:{stays:function(){return this.$store.getters.stays}},methods:{},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("scrolled",!0),t.$emit("hideSearch",!0),e.next=4,t.$store.dispatch({type:"loadStays"});case 4:console.log(t.stays);case 5:case"end":return e.stop()}}),e)})))()}},wr=_r,kr=Object(g["a"])(wr,or,cr,!1,null,null,null),Cr=kr.exports;n["default"].use(wt["a"]);var xr=[{path:"/",component:jt},{path:"/about",component:Ut},{path:"/stay",component:re},{path:"/stay/q/:city?",component:re},{path:"/stay/edit/:stayId?",component:Ms},{path:"/stay/:stayId",component:Ps},{path:"/profile/:userId",component:ar},{path:"/wishlist/:userId",component:Cr}],Ar=new wt["a"]({routes:xr}),Sr=Ar,jr=s("2f62"),Or={state:{stays:[],unfilteredStays:[],filterBy:{price:[0,1500],types:[],amenities:[],city:""},watchedStay:null},getters:{stays:function(t){return t.stays},filterBy:function(t){return t.filterBy},unfilteredStays:function(t){return t.unfilteredStays},watchedStay:function(t){return t.watchedStay}},mutations:{setStays:function(t,e){var s=e.stays;t.stays=s},setUnfilteredStays:function(t,e){var s=e.unfilteredStays;t.unfilteredStays=s},removeStay:function(t,e){var s=e.stayId,n=t.stays.findIndex((function(t){return t._id===s}));t.stays.splice(n,1)},updateStay:function(t,e){var s=e.stay,n=t.stays.findIndex((function(t){return t._id===s._id}));t.stays.splice(n,1,s)},addStay:function(t,e){var s=e.stay;t.stays.push(s)},setFilter:function(t,e){var s=e.filterBy;t.filterBy=s},addReview:function(t,e){var s=e.stay,n=e.review,r=t.stays.findIndex((function(t){return t._id===s._id}));t.stays[r].reviews.unshift(n),t.stays.splice(r,1,t.stays[r])},setWatchedStay:function(t,e){var s=e.stay;t.watchedStay=s}},actions:{loadStays:function(t){return Object(a["a"])(regeneratorRuntime.mark((function e(){var s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,n=t.state,e.prev=1,e.next=4,Ks.query(n.filterBy);case 4:return r=e.sent,s({type:"setStays",stays:r}),e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e["catch"](1),console.log("Cannot load stays",stays),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},loadUnfilteredStays:function(t){return Object(a["a"])(regeneratorRuntime.mark((function e(){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,e.next=4,Ks.query({price:[0,1500],types:[],amenities:[],city:""});case 4:return n=e.sent,s({type:"setUnfilteredStays",unfilteredStays:n}),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e["catch"](1),console.log("Cannot load stays",unfilteredStays),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},removeStay:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=t.commit,s.prev=1,s.next=4,Ks.remove(e.stayId);case 4:n(e),s.next=11;break;case 7:throw s.prev=7,s.t0=s["catch"](1),console.log("Cannot remove stay:",e.stayId),s.t0;case 11:case"end":return s.stop()}}),s,null,[[1,7]])})))()},saveStay:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function s(){var n,r,i,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=t.commit,t.dispatch,t.rootGetters,r=e.stay,r.loc={"New York":{countryCode:"NY",lat:40.73061,lng:-73.935242,address:"New York, New York"},Netherlands:{countryCode:"NL",lat:48.8566,lng:2.3522,address:"Amsterdam, Netherlands"},France:{countryCode:"FR",lat:52.377956,lng:4.739298,address:"Paris, France"}}[r.loc.country],r.amenities=r.amenities.map((function(t){return{TV:{txt:"TV",icon:"el-icon-monitor"},Wifi:{txt:"Wifi",icon:"wifi",fa:!0},Kitchen:{txt:"Kitchen",icon:"el-icon-knife-fork"},"Pets allowed":{txt:"Pets allowed",icon:"paw",fa:!0},"Air conditioning":{txt:"Air conditioning",icon:"snowflake",fa:!0},"Smoking allowed":{txt:"Smoking allowed",icon:"el-icon-smoking"}}[t]})),s.prev=4,i=r._id?"updateStay":"addStay",s.next=8,Ks.save(r);case 8:return a=s.sent,n({type:i,stay:a}),s.abrupt("return",a);case 13:throw s.prev=13,s.t0=s["catch"](4),console.log("err",s.t0),s.t0;case 17:case"end":return s.stop()}}),s,null,[[4,13]])})))()},addReview:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function s(){var n,r,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.commit,n=e.stay,r=e.review,i=JSON.parse(JSON.stringify(n)),i.reviews.unshift(r),s.next=6,Ks.save(i);case 6:return s.abrupt("return",i);case 7:case"end":return s.stop()}}),s)})))()},loadAndWatchStay:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function s(){var n,r,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=t.commit,r=e.stayId,s.prev=2,s.next=5,Ks.getById(r);case 5:i=s.sent,n({type:"setWatchedStay",stay:i}),Ze.emit(ze,r),Ze.off(qe),Ze.on(qe,(function(t){n({type:"addReview",stay:i,review:t}),n({type:"setWatchedStay",stay:i}),U("a new review was added by ".concat(t.by.fullname))})),s.next=16;break;case 12:throw s.prev=12,s.t0=s["catch"](2),console.log("stayStore: Error in loadAndWatchStay",s.t0),s.t0;case 16:case"end":return s.stop()}}),s,null,[[2,12]])})))()}}},Lr={login:Fr,logout:Vr,signup:Dr,getUsers:Br,getById:Ur,remove:Tr,update:Ir,removeStay:Yr,getLoggedInUser:zr};window.userService=Lr;var $r="user/";function Br(){return Pr.apply(this,arguments)}function Pr(){return Pr=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,de.get($r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),Pr.apply(this,arguments)}function Ur(t){return Rr.apply(this,arguments)}function Rr(){return Rr=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,de.get("".concat($r).concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),Rr.apply(this,arguments)}function Tr(t){return Er.apply(this,arguments)}function Er(){return Er=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,de.delete("".concat($r).concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),Er.apply(this,arguments)}function Ir(t,e){return Mr.apply(this,arguments)}function Mr(){return Mr=Object(a["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e&&!s&&qr(e),t.next=3,de.put("".concat($r).concat(e._id),e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),Mr.apply(this,arguments)}function Fr(t){return Nr.apply(this,arguments)}function Nr(){return Nr=Object(a["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,de.post("auth/login",e);case 2:if(s=t.sent,!s){t.next=5;break}return t.abrupt("return",qr(s));case 5:case"end":return t.stop()}}),t)}))),Nr.apply(this,arguments)}function Dr(t){return Gr.apply(this,arguments)}function Gr(){return Gr=Object(a["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,de.post("auth/signup",e);case 2:return s=t.sent,t.abrupt("return",qr(s));case 4:case"end":return t.stop()}}),t)}))),Gr.apply(this,arguments)}function Vr(){return Wr.apply(this,arguments)}function Wr(){return Wr=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return sessionStorage.clear(),t.next=3,de.post("auth/logout");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),Wr.apply(this,arguments)}function Yr(t,e){return Hr.apply(this,arguments)}function Hr(){return Hr=Object(a["a"])(regeneratorRuntime.mark((function t(e,s){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=s.stays.findIndex((function(t){return t._id===e})),s.stays.splice(n,1),t.next=4,de.put("".concat($r).concat(s._id),s);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)}))),Hr.apply(this,arguments)}function zr(){return JSON.parse(sessionStorage.getItem("loggedinUser")||"null")}function qr(t){return sessionStorage.setItem("loggedinUser",JSON.stringify(t)),t}var Jr={state:{loggedinUser:Lr.getLoggedInUser(),users:[]},getters:{users:function(t){return t.users},loggedinUser:function(t){return t.loggedinUser}},mutations:{setLoggedinUser:function(t,e){var s=e.user;t.loggedinUser=s},removeUser:function(t,e){var s=e.userId;t.users=t.users.filter((function(t){return t._id!==s}))}},actions:{login:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function s(){var n,r,i,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=t.commit,r=t.dispatch,i=e.userCred,s.prev=2,s.next=5,Lr.login(i);case 5:return a=s.sent,n({type:"setLoggedinUser",user:a}),s.next=9,r({type:"watchOrderAdded"});case 9:return s.next=11,r({type:"watchOrder",userId:a._id});case 11:return s.abrupt("return",a);case 14:throw s.prev=14,s.t0=s["catch"](2),console.log("userStore: Error in login",s.t0),s.t0;case 18:case"end":return s.stop()}}),s,null,[[2,14]])})))()},signup:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function s(){var n,r,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=t.commit,r=e.userCred,s.prev=2,s.next=5,Lr.signup(r);case 5:return i=s.sent,n({type:"setLoggedinUser",user:i}),s.abrupt("return",i);case 10:throw s.prev=10,s.t0=s["catch"](2),console.log("userStore: Error in signup",s.t0),s.t0;case 14:case"end":return s.stop()}}),s,null,[[2,10]])})))()},logout:function(t){return Object(a["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,e.next=4,Lr.logout();case 4:s({type:"setLoggedinUser",user:null}),e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),console.log("userStore: Error in logout",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))()},updateUser:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function s(){var n,r,i,a,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=t.commit,r=t.dispatch,i=t.getters,a=t.rootGetters,o=e.user,s.prev=2,s.next=5,Lr.update(o);case 5:i.loggedinUser.imgUrl!==o.imgUrl&&a.stays.forEach((function(t){i.loggedinUser._id===t.host._id&&(t.host.imgUrl=o.imgUrl,r({type:"saveStay",stay:t}))})),n({type:"setLoggedinUser",user:o}),s.next=13;break;case 9:throw s.prev=9,s.t0=s["catch"](2),console.log("userStore: Error updating user",s.t0),s.t0;case 13:case"end":return s.stop()}}),s,null,[[2,9]])})))()}}},Kr={state:{orders:[]},getters:{orders:function(t){return t.orders}},mutations:{setOrders:function(t,e){var s=e.orders;t.orders=s},updateOrder:function(t,e){var s=e.order,n=t.orders.findIndex((function(t){return t._id===s._id}));t.orders.splice(n,1,s)},addOrder:function(t,e){var s=e.order;t.orders.push(s)}},actions:{loadOrders:function(t){return Object(a["a"])(regeneratorRuntime.mark((function e(){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,e.next=4,me.query();case 4:return n=e.sent,s({type:"setOrders",orders:n}),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e["catch"](1),console.log("Failed to load orders",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},saveOrder:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function s(){var n,r,i,a,o,c,l;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=t.commit,r=t.rootGetters,i=e.order,a=e.stay,s.prev=2,o=i._id?"updateOrder":"addOrder",i._id||(c={_id:a._id,name:a.name,price:a.price,country:a.loc.address},i.stay=c,i.host=a.host,i.buyer=r.loggedinUser),s.next=7,me.save(i);case 7:return l=s.sent,n({type:o,order:l}),s.abrupt("return",l);case 12:throw s.prev=12,s.t0=s["catch"](2),console.log("Failed to save order",s.t0),s.t0;case 16:case"end":return s.stop()}}),s,null,[[2,12]])})))()},watchOrderAdded:function(t){return Object(a["a"])(regeneratorRuntime.mark((function e(){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=t.commit,n=t.rootGetters,Ze.emit(Ye,n.loggedinUser),Ze.off(He),Ze.on(He,(function(t){t.host._id===n.loggedinUser._id&&(s({type:"addOrder",order:t}),U("new order from ".concat(t.buyer.fullname)))}));case 4:case"end":return e.stop()}}),e)})))()},watchOrder:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function s(){var n,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:n=t.commit,r=e.userId,Ze.emit(Je,r),Ze.off(Ke),Ze.on(Ke,function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.buyer._id===r&&(n({type:"updateOrder",order:e}),U("your order status was updated to ".concat(e.status)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:case"end":return s.stop()}}),s)})))()}}};n["default"].use(jr["a"]);var Qr=new jr["a"].Store({modules:{stay:Or,user:Jr,order:Kr}}),Zr=s("755e"),Xr=s("5c96"),ti=s.n(Xr),ei=(s("0fae"),s("3c61"),s("b2d6")),si=s.n(ei),ni=(s("cc73"),s("6cf9")),ri=s("bd8c"),ii=s.n(ri),ai=s("4eb5"),oi=s.n(ai),ci=s("53ca"),li=function(){function t(){var t="https://apis.google.com/js/api.js";return new Promise((function(e){var s=document.createElement("script");s.src=t,s.onreadystatechange=s.onload=function(){s.readyState&&!/loaded|complete/.test(s.readyState)||setTimeout((function(){e()}),500)},document.getElementsByTagName("head")[0].appendChild(s)}))}function e(t){return new Promise((function(e){window.gapi.load("auth2",(function(){window.gapi.auth2.init(t).then((function(){e(window.gapi)}))}))}))}function s(){var n=this;if(!(this instanceof s))return new s;this.GoogleAuth=null,this.isAuthorized=!1,this.isInit=!1,this.prompt=null,this.isLoaded=function(){return console.warn('isLoaded() will be deprecated. You can use "this.$gAuth.isInit"'),!!this.GoogleAuth},this.load=function(s,r){t().then((function(){return e(s)})).then((function(t){n.GoogleAuth=t.auth2.getAuthInstance(),n.isInit=!0,n.prompt=r,n.isAuthorized=n.GoogleAuth.isSignedIn.get()}))},this.signIn=function(t,e){return new Promise((function(s,r){if(!n.GoogleAuth)return"function"===typeof e&&e(!1),void r(!1);n.GoogleAuth.signIn().then((function(e){"function"===typeof t&&t(e),n.isAuthorized=n.GoogleAuth.isSignedIn.get(),s(e)})).catch((function(t){"function"===typeof e&&e(t),r(t)}))}))},this.getAuthCode=function(t,e){return new Promise((function(s,r){if(!n.GoogleAuth)return"function"===typeof e&&e(!1),void r(!1);n.GoogleAuth.grantOfflineAccess({prompt:n.prompt}).then((function(e){"function"===typeof t&&t(e.code),s(e.code)})).catch((function(t){"function"===typeof e&&e(t),r(t)}))}))},this.signOut=function(t,e){return new Promise((function(s,r){if(!n.GoogleAuth)return"function"===typeof e&&e(!1),void r(!1);n.GoogleAuth.signOut().then((function(){"function"===typeof t&&t(),n.isAuthorized=!1,s(!0)})).catch((function(t){"function"===typeof e&&e(t),r(t)}))}))}}return new s}();function ui(t,e){var s=null,n={scope:"profile email",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]},r="select_account";"object"===Object(ci["a"])(e)?(s=Object.assign(n,e),e.scope&&(s.scope=e.scope),e.prompt&&(r=e.prompt),e.clientId||console.warn("clientId is required")):console.warn("invalid option type. Object type accepted only"),t.gAuth=li,Object.defineProperties(t.prototype,{$gAuth:{get:function(){return t.gAuth}}}),t.gAuth.load(s,r)}var di=ui,pi={clientId:"707231563844-e5cpkqrlt62gncmj6b84of5sml9lp8g9.apps.googleusercontent.com",scope:"profile email",prompt:"select_account"};n["default"].use(di,pi),n["default"].use(oi.a),n["default"].use(ii.a),n["default"].config.lang="en",n["default"].use(ti.a,{locale:si.a}),n["default"].use(ni["a"]),n["default"].config.productionTip=!1,n["default"].use(ti.a),n["default"].use(s("2ead")),n["default"].use(Zr,{load:{key:"AIzaSyCfm1LKS_iiah-t54R0JBYlfmPkEk5AYBA",libraries:"places"}}),new n["default"]({router:Sr,store:Qr,render:function(t){return t(bt)}}).$mount("#app")},"5e3b":function(t,e,s){},"60f0":function(t,e,s){"use strict";s("5e3b")},8291:function(t,e,s){t.exports=s.p+"img/search_white_24dp.cd99745b.svg"},9288:function(t,e,s){t.exports=s.p+"img/social-color-1_logo-facebook.1551157b.svg"},"9a12":function(t,e,s){t.exports=s.p+"img/social-color-1_logo-twitter.b3df0030.svg"},"9d8c":function(t,e,s){t.exports=s.p+"img/email.1b791f54.svg"},bbbe:function(t,e,s){t.exports=s.p+"img/google.b7727941.svg"},c940:function(t,e,s){t.exports=s.p+"img/social-color-1_logo-linkedin.e81b57c5.svg"},ce3b:function(t,e,s){t.exports=s.p+"img/hero1.7fe9364a.jpeg"},f6de:function(t,e,s){t.exports=s.p+"img/marker.e666c56e.png"},fa1d:function(t,e,s){"use strict";s("322b")}});
//# sourceMappingURL=app.28b6f23f.js.map